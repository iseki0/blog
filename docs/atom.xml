<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>isekiã®Note</title>
  
  
  <link href="https://blog.iseki.space/atom.xml" rel="self"/>
  
  <link href="https://blog.iseki.space/"/>
  <updated>2020-09-06T10:00:31.776Z</updated>
  <id>https://blog.iseki.space/</id>
  
  <author>
    <name>iseki</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹</title>
    <link href="https://blog.iseki.space/2020/09/06/point-in-polygon/"/>
    <id>https://blog.iseki.space/2020/09/06/point-in-polygon/</id>
    <published>2020-09-06T09:59:00.000Z</published>
    <updated>2020-09-06T10:00:31.776Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹"><a href="#åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹" class="headerlink" title="åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹"></a>åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹</h1><blockquote><p>æœ¬æ–‡èŠ‚é€‰ç¿»è¯‘è‡ªï¼š<a href="http://geomalgorithms.com/a03-_inclusion.html">http://geomalgorithms.com/a03-_inclusion.html</a> ï¼Œéƒ¨åˆ†å›¾ç‰‡é‡ç»˜ï¼Œæ–‡å­—äº¦åŠ å…¥äº†ä¸€äº›ä¸ªäººç†è§£</p></blockquote><p>æœ‰ä¸¤ç§ç®—æ³•ï¼Œåœˆç»•æ•°(Winding Number)å’Œäº¤å‰æ•°(Crossing Number)</p><ul><li>Crossing Number: ç‚¹Pç”»ä¸€æ¡å°„çº¿ï¼Œè®¡ç®—å…¶ä¸å¤šè¾¹å½¢è¾¹ç•Œäº¤å‰æ•°ï¼Œå½“äº¤å‰æ•°æ˜¯å¥‡æ•°æ—¶ï¼Œç‚¹åœ¨å†…éƒ¨ï¼›</li><li>Winding Number: è®¡ç®—å¤šè¾¹å½¢ç»•è¿‡ç‚¹Pçš„æ¬¡æ•°ï¼Œåªæœ‰åœˆç»•æ•°ä¸º0æ—¶ç‚¹åœ¨å†…éƒ¨</li></ul><p>å¦‚æœä¸€ä¸ªå¤šè¾¹å½¢æ˜¯ç®€å•çš„ï¼ˆæ— è‡ªäº¤ï¼‰ï¼Œä¸¤ç§æ–¹æ³•å¯¹æ‰€æœ‰çš„ç‚¹ç»™å‡ºç›¸åŒç»“æœã€‚ä½†æ˜¯å¯¹äºä¸€äº›å¤æ‚å¤šå˜æ€§ï¼Œä¸¤ç§æ–¹æ³•å¯èƒ½å¯¹ä¸€äº›ç‚¹ç»™å‡ºä¸åŒçš„ç»“æœï¼Œæ¯”å¦‚ï¼šå½“ä¸€ä¸ªå¤šè¾¹å½¢å åŠ è‡ªèº«ä¹‹ä¸Šæ—¶ï¼Œå¯¹äºé‡å åŒºåŸŸçš„ç‚¹ï¼Œå¦‚æœä½¿ç”¨wnï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯åœ¨å¤šè¾¹å½¢ä¹‹å¤–çš„ï¼Œè€Œcnåˆ™ä¸æ˜¯ã€‚è§ä¸‹å›¾ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="./cn0.svg" alt="Crossing Number"><img src= "/img/loading.gif" data-lazy-src="./wn0.svg" alt="Winding Number"></p><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé‡å åŒºåŸŸçš„ç‚¹ åœˆç»•æ•° wn = 2ï¼Œæš—ç¤ºç€å®ƒè¢«ç¯ç»•åœ¨å¤šè¾¹å½¢ä¸­ä¸¤æ¬¡ã€‚æ˜æ˜¾ï¼Œwnç»™å‡ºçš„ç­”æ¡ˆæ›´åŠ ç›´è§‚ã€‚</p><p>å°½ç®¡å¦‚æ­¤ï¼Œcnè¿˜æ˜¯è¢«ä½¿ç”¨å¾—æ›´åŠ å¹¿æ³›ï¼Œè¿™æ˜¯å› ä¸ºcnè¢«é”™è¯¯çš„è®¤ä¸ºæ¯”wnæ›´å¿«ï¼ˆ20å€ï¼‰[Oâ€™Rourke, 1998]<br>ä½†äº‹å®å¹¶éå¦‚æ­¤ï¼Œé€šè¿‡å¸¦ç¬¦å·çš„è®¡æ•°ï¼Œwnå¯ä»¥è·å¾—ä¸cnåŒç­‰çš„æ•ˆç‡ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬çš„å®ç°çš„ <code>wn_PnPoly()</code> æ¯”[Franklin, 2000], [ Haines, 1994] å’Œ [Oâ€™Rourke, 1998]ç»™å‡ºçš„cnæ›´å¿«ï¼å°½ç®¡[Moller &amp; Haines, 1999]å®ç°çš„ <code>PointInPolygon()</code> ä¸æˆ‘ä»¬çš„wnæ˜¯å·®ä¸å¤šçš„ï¼Œä½†ç»¼åˆè€ƒè™‘æ­£ç¡®æ€§å’Œæ€§èƒ½ï¼Œwnæ˜¯åº”è¯¥è¢«é¦–å…ˆæ¨èçš„ã€‚</p><h2 id="äº¤å‰æ³•-The-Crossing-Number"><a href="#äº¤å‰æ³•-The-Crossing-Number" class="headerlink" title="äº¤å‰æ³•(The Crossing Number)"></a>äº¤å‰æ³•(The Crossing Number)</h2><p>è¿™ä¸ªç®—æ³•é€šè¿‡è®¡ç®—ç”±ç‚¹På‘å‡ºçš„å°„çº¿è·¨è¶Šå¤šè¾¹å½¢è¾¹ç•Œçš„æ¬¡æ•°æ¥å†³å®šç‚¹åœ¨å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ã€‚ç‚¹æ˜¯å¥‡æ•°åˆ™åœ¨å†…éƒ¨ï¼Œåä¹‹åˆ™åœ¨å¤–éƒ¨ï¼Œè¿™éå¸¸å®¹æ˜“ç†è§£ï¼Œè§ä¸‹å›¾ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="./cn1.svg"></p><p>åœ¨å®ç° cn æ³•æ—¶ï¼Œå¿…é¡»éµå®ˆçš„ä¸€ç‚¹æ˜¯åªç»Ÿè®¡å½±å“â€œè¿›å…¥â€å’Œâ€œç¦»å¼€â€å¤šè¾¹å½¢çš„äº¤å‰ã€‚ç‰¹åˆ«æ˜¯ï¼Œç©¿è¿‡é¡¶ç‚¹çš„æƒ…å†µå¿…é¡»è¢«æ­£ç¡®å¤„ç†ï¼Œå­˜åœ¨å¦‚ä¸‹å‡ ç§äº¤å‰ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="./cn2.svg"></p><p>æ­¤å¤–ï¼Œå¿…é¡»å†³å®šå½“ä¸€ä¸ªç‚¹å¤„äºè¾¹ç•Œçº¿ä¸Šæ—¶ï¼Œè¿™ä¸ªç‚¹æ˜¯åœ¨å¤šè¾¹å½¢çš„å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ã€‚ä¾ç…§æƒ¯ä¾‹ï¼Œæˆ‘ä»¬è®¤ä¸ºåœ¨å·¦ä¸‹è¾¹çš„ç‚¹åœ¨å†…éƒ¨ï¼Œè€Œå³ä¸Šè¾¹çš„ç‚¹åœ¨å¤–éƒ¨ã€‚è¿™æ˜¯å› ä¸ºï¼Œå¦‚æœä¸åŒçš„ä¸¤ä¸ªå¤šè¾¹å½¢å…±äº«ä¸€æ¡è¾¹ï¼Œç‚¹å°†åªå‡ºç°åœ¨å…¶ä¸€å†…éƒ¨ï¼Œè€Œä¸ä¼šåŒæ—¶å‡ºç°åœ¨ä¸¤ä¸ªå¤šè¾¹å½¢å†…éƒ¨ï¼Œè¿™æ ·åšé¿å…äº†å¾ˆå¤šæ½œåœ¨çš„é—®é¢˜ã€‚</p><p>ä¸€ä¸ªæœ´ç´ çš„ Crossing Number ç®—æ³•å®ç°æ˜¯ï¼Œç‚¹På‘Xè½´çš„æ­£æ–¹å‘å»¶ä¼¸å‡ºä¸€æ¡ä¸Xè½´å¹³è¡Œçš„å°„çº¿ï¼Œä½¿ç”¨è¿™æ¡ç‰¹åˆ«çš„å°„çº¿å¯ä»¥å®¹æ˜“åœ°è®¡ç®—å…¶ä¸å¤šè¾¹å½¢è¾¹çš„äº¤å‰ï¼Œç”šè‡³å½“ä¸å¯èƒ½å­˜åœ¨äº¤å‰æ—¶ï¼Œåˆ¤æ–­æ›´åŠ å®¹æ˜“ã€‚è¦è®¡ç®—æ€»çš„äº¤å‰æ•° $cn$ ï¼Œç®—æ³•ç®€å•åœ°æšä¸¾å¤šè¾¹å½¢çš„æ‰€æœ‰è¾¹å¹¶æµ‹è¯•å°„çº¿ä¸ä¹‹çš„äº¤å‰ï¼Œå¹¶åœ¨äº¤å‰æ—¶æ”¹å˜ $cn$ ã€‚ç‰¹åˆ«çš„ï¼Œäº¤å‰æµ‹è¯•å¿…é¡»æ­£ç¡®å¤„ç†ç‚¹åœ¨è¾¹ä¸Šå’Œå…¶ä»–ç‰¹æ®Šæƒ…å†µï¼Œéµå®ˆå¦‚ä¸‹è§„åˆ™ï¼š</p><h3 id="è¾¹äº¤å‰è§„åˆ™-Edge-Crossing-Rules"><a href="#è¾¹äº¤å‰è§„åˆ™-Edge-Crossing-Rules" class="headerlink" title="è¾¹äº¤å‰è§„åˆ™(Edge Crossing Rules)"></a>è¾¹äº¤å‰è§„åˆ™(Edge Crossing Rules)</h3><ol><li>å‘ä¸Šçš„è¾¹åªåŒ…å«èµ·å§‹ç‚¹è€Œä¸åŒ…å«ç»“æŸç‚¹</li><li>å‘ä¸‹çš„è¾¹åªåŒ…å«ç»“æŸç‚¹è€Œä¸åŒ…å«èµ·å§‹ç‚¹</li><li>æ’é™¤æ°´å¹³è¾¹</li><li>äº¤ç‚¹å¿…é¡»ä¸¥æ ¼çš„å‡ºç°åœ¨ç‚¹Pçš„å³ä¾§</li></ol><p>å¯ä»¥ä½¿ç”¨è¿™äº›è§„åˆ™è®¡ç®—äº¤å‰ï¼Œè¦æ³¨æ„ç¬¬ 4 æ¡è§„åˆ™å¯¼è‡´å¤„åœ¨å³ä¾§è¾¹ç¼˜çš„ç‚¹è¢«è®¤ä¸ºæ˜¯åœ¨å¤šè¾¹å½¢çš„å¤–éƒ¨ï¼Œè€Œå·¦ä¾§è¾¹ç¼˜ä¸Šçš„ç‚¹è¢«è®¤ä¸ºæ˜¯å†…éƒ¨ã€‚</p><h3 id="ä¼ªä»£ç "><a href="#ä¼ªä»£ç " class="headerlink" title="ä¼ªä»£ç "></a>ä¼ªä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">typedef struct &#123;int x, y;&#125; Point;</span><br><span class="line"></span><br><span class="line">cn_PnPoly( Point P, Point V[], int n )</span><br><span class="line">&#123;</span><br><span class="line">    int    cn &#x3D; 0;    &#x2F;&#x2F; the  crossing number counter</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; loop through all edges of the polygon</span><br><span class="line">    for (each edge E[i]:V[i]V[i+1] of the polygon) &#123;</span><br><span class="line">        if (E[i] crosses upward ala Rule #1</span><br><span class="line">         || E[i] crosses downward ala  Rule #2) &#123;</span><br><span class="line">            if (P.x &lt;  x_intersect of E[i] with y&#x3D;P.y)   &#x2F;&#x2F; Rule #4</span><br><span class="line">                 ++cn;   &#x2F;&#x2F; a valid crossing to the right of P.x</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return (cn&amp;1);    &#x2F;&#x2F; 0 if even (out), and 1 if  odd (in)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªéªŒè¯äº¤å‰çš„æ–¹å¼åŸºäº<a href="https://zh.wikipedia.org/wiki/%E8%8B%A5%E5%B0%94%E5%BD%93%E6%9B%B2%E7%BA%BF%E5%AE%9A%E7%90%86" title="è‹¥å°”å½“æ›²çº¿å®šç† (Jordan curve theorem)">è‹¥å°”å½“æ›²çº¿å®šç†</a>ï¼Œç®€å•æ¥è¯´å›¾å½¢å¿…é¡»æ²¡æœ‰è‡ªäº¤ã€‚</p><p><em>å¾…ç»­~</em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹&quot;&gt;&lt;a href=&quot;#åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹&quot;&gt;&lt;/a&gt;åˆ¤æ–­å¤šè¾¹å½¢å†…ç‚¹&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡èŠ‚é€‰ç¿»è¯‘è‡ªï¼š&lt;a href=&quot;http://geomalgorithm</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>æµ…æ‰¯ Coroutine</title>
    <link href="https://blog.iseki.space/2020/07/20/some-of-coroutine-suspend-function/"/>
    <id>https://blog.iseki.space/2020/07/20/some-of-coroutine-suspend-function/</id>
    <published>2020-07-20T11:30:00.000Z</published>
    <updated>2020-07-20T11:29:52.045Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æµ…æ‰¯-Coroutine"><a href="#æµ…æ‰¯-Coroutine" class="headerlink" title="æµ…æ‰¯ Coroutine"></a>æµ…æ‰¯ Coroutine</h1><p>å…³äº Kotlin Coroutine çš„ä½¿ç”¨å°±ä¸å¤šè¯´äº†ï¼Œå¤§å®¶éƒ½å·²ç»å¾ˆç†Ÿæ‚‰emmmï¼Œè¿™é‡Œç®€å•æ¢ç´¢ä¸‹ Coroutine å†…éƒ¨çš„å®ç°ï¼Œæ¥å°½é‡è§„é¿Coroutine ä¸å…¶ä»–åº“å’Œæ¡†æ¶ååŒä½¿ç”¨æ—¶çš„å‘ã€‚</p><p>æœ¬æ–‡ç¼–å†™æ—¶ä½¿ç”¨ Kotlin ç‰ˆæœ¬ï¼š<code>1.4-M3</code>ï¼ŒJDK ç‰ˆæœ¬ï¼š<code>openjdk 11.0.7</code></p><p>Coroutine çš„æ ¸å¿ƒåŸç† <a href="https://github.com/Kotlin/KEEP" title="Kotlin Evolution and Enhancement Process">KEEP</a> ä¸­çš„ coroutine ææ¡ˆå·²ç»å†™å¾—å¾ˆæ¸…æ¥šäº†ï¼Œè¯¦è§ææ¡ˆçš„å®ç°è¯¦æƒ…ç« èŠ‚ï¼š <a href="https://github.com/Kotlin/KEEP/blob/master/proposals/coroutines.md#implementation-details">KEEP/proposals/coroutines.md#implementation-details</a> ï¼Œè¿™é‡Œè¡¥å……ä¸€ç‚¹ç‚¹ææ¡ˆä¸­æ²¡è¯´çš„ï¼Œå’Œå®ç°é«˜åº¦ç›¸å…³çš„å†…å®¹ã€‚</p><p>æœ¬è´¨å°±æ˜¯å¯¹ suspend å‡½æ•°è¿›è¡ŒCPSå˜æ¢ï¼Œå°†ä»£ç è½¬æ¢ä¸º<a href="https://en.wikipedia.org/wiki/Continuation-passing_style" title="[CPS] å»¶ç»­ä½“ä¼ é€’é£æ ¼ï¼ˆWikiPedia[è‹±æ–‡]ï¼‰">å»¶ç»­ä½“ä¼ é€’é£æ ¼</a>ã€‚ç®€å•æ¥è¯´å°±æ˜¯ä¸ºæ¯ä¸ªå‡½æ•°å¢åŠ äº†ä¸€ä¸ªéšå¼çš„å‚æ•° <code>$completion</code>ï¼Œå®ƒçš„ç±»å‹æ˜¯ <code>Continuation</code> å³å»¶ç»­ä½“ï¼›å‡½æ•°æœ¬ä½“åˆ™è¢«ç¼–è¯‘æˆçŠ¶æ€æœºï¼ŒçŠ¶æ€å­˜å‚¨äºä¸Šè¿°çš„ <code>Continuation</code> ä¸­ï¼Œsuspend å‡½æ•°æ¯æ¬¡ resume æ—¶éƒ½ä¼šè¢«è°ƒç”¨ï¼Œå…¶æ ¹æ® <code>Continuation</code> ä¸­çš„çŠ¶æ€ä¿¡æ¯ç›´æ¥è°ƒè½¬åˆ°å¯¹åº”çš„ä½ç½®ç»§ç»­æ‰§è¡Œã€‚</p><p>ä¸ºäº†ä¾¿äºåˆ†æï¼Œè¿™é‡Œä½¿ç”¨ <a href="https://www.benf.org/other/cfr/" title="CFR - another java decompiler">CFR</a> åç¼–è¯‘å™¨å¯¹ kotlinc ç¼–è¯‘çš„ suspend å‡½æ•°è¿›è¡Œåç¼–è¯‘ï¼Œå½“å‰ç‰ˆæœ¬ä¸º <code>0.150</code></p><p>æˆ‘ä»¬ä»ä¸‹é¢ä»£ç æ®µå¼€å§‹ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="keyword">suspend</span> <span class="function"><span class="keyword">fun</span> <span class="title">demo1</span><span class="params">(s: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;1==========&quot;</span>)</span><br><span class="line">        delay(<span class="number">100</span>)</span><br><span class="line">        println(<span class="string">&quot;2==========&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼ŒKotlin ç¼–è¯‘å™¨å¯¹å…¶è¿›è¡Œç¼–è¯‘åæˆ‘ä»¬çœ‹åˆ°ä¸¤ä¸ª class <code>Demo$demo1$1.class</code> <code>Demo.class</code> å‰é¢é‚£ä¸ªæ˜¯åé¢çš„åŒ¿åå†…éƒ¨ç±»ï¼Œä¸ç”¨ç®¡å®ƒï¼Œç”¨ cfr åç¼–è¯‘åé¢çš„å°±è¡Œäº†ã€‚ä»¥ä¸‹æˆ‘å°†åªèŠ‚é€‰éƒ¨åˆ†æºç ï¼Œæ³¨æ„è¿™ä¸æ˜¯æ ‡å‡†çš„Javaä»£ç ï¼Œæ²¡æ³•ç›´æ¥ç¼–è¯‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * Unable to fully structure code</span></span><br><span class="line"><span class="comment">     * Enabled aggressive block sorting</span></span><br><span class="line"><span class="comment">     * Lifted jumps to return sites</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Nullable</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Object <span class="title">demo1</span><span class="params">(<span class="meta">@NotNull</span> String s, <span class="meta">@NotNull</span> Continuation&lt;? <span class="keyword">super</span> Unit&gt; $completion)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!($completion <span class="keyword">instanceof</span> demo1.<span class="number">1</span>)) ** GOTO lbl-<span class="number">1000</span></span><br><span class="line">            <span class="comment">// è¿™ä¸ª demo1.1 å°±æ˜¯ä¸‹é¢newå‡ºæ¥çš„é‚£ä¸ªContinuationImpl</span></span><br><span class="line">        var6_3 = $completion;</span><br><span class="line">        <span class="keyword">if</span> ((var6_3.label &amp; -<span class="number">2147483648</span>) != <span class="number">0</span>) &#123;</span><br><span class="line">            var6_3.label -= -<span class="number">2147483648</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> lbl-<span class="number">1000</span>:</span><br><span class="line">        <span class="comment">// 2 sources</span></span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            $continuation = <span class="keyword">new</span> ContinuationImpl(<span class="keyword">this</span>, $completion)&#123;</span><br><span class="line">                <span class="comment">/* synthetic */</span> Object result;</span><br><span class="line">                <span class="keyword">int</span> label;</span><br><span class="line">                <span class="keyword">final</span> <span class="comment">/* synthetic */</span> Demo <span class="keyword">this</span>$<span class="number">0</span>;</span><br><span class="line">                Object L$<span class="number">0</span>;</span><br><span class="line">                Object L$<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">                <span class="meta">@Nullable</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Object <span class="title">invokeSuspend</span><span class="params">(<span class="meta">@NotNull</span> Object $result)</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>.result = $result;</span><br><span class="line">                    <span class="keyword">this</span>.label |= Integer.MIN_VALUE;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="keyword">this</span>$<span class="number">0.d</span>emo1(<span class="keyword">null</span>, (Continuation&lt;? <span class="keyword">super</span> Unit&gt;)<span class="keyword">this</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">this</span>.<span class="keyword">this</span>$<span class="number">0</span> = demo;</span><br><span class="line">                    <span class="keyword">super</span>(continuation);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">        $result = $continuation.result;</span><br><span class="line">        var7_5 = IntrinsicsKt.getCOROUTINE_SUSPENDED();</span><br><span class="line">        <span class="keyword">switch</span> ($continuation.label) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>: &#123;</span><br><span class="line">                ResultKt.throwOnFailure((Object)$result);</span><br><span class="line">                var3_6 = <span class="string">&quot;1==========&quot;</span>;</span><br><span class="line">                var4_7 = <span class="keyword">false</span>;</span><br><span class="line">                System.out.println((Object)var3_6);</span><br><span class="line">                $continuation.L$<span class="number">0</span> = <span class="keyword">this</span>;</span><br><span class="line">                $continuation.L$<span class="number">1</span> = s;</span><br><span class="line">                $continuation.label = <span class="number">1</span>;</span><br><span class="line">                v0 = DelayKt.delay((<span class="keyword">long</span>)<span class="number">100L</span>, (Continuation)$continuation);</span><br><span class="line">                <span class="keyword">if</span> (v0 == var7_5) &#123; <span class="comment">// if result == COROUTINE_SUSPENDED</span></span><br><span class="line">                    <span class="keyword">return</span> var7_5;  <span class="comment">//     return COROUTINE_SUSPEND</span></span><br><span class="line">                &#125;</span><br><span class="line">                ** GOTO lbl27       <span class="comment">// else goto lbl27</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: &#123;</span><br><span class="line">                <span class="comment">// çŠ¶æ€æœºåœ¨è¿™é‡Œ resumeï¼Œå…ˆæ¢å¤å±€éƒ¨å˜é‡</span></span><br><span class="line">                s = (String)$continuation.L$<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">this</span> = (Demo)$continuation.L$<span class="number">0</span>;</span><br><span class="line">                ResultKt.throwOnFailure((Object)$result);</span><br><span class="line">                v0 = $result;</span><br><span class="line">lbl27:</span><br><span class="line">                <span class="comment">// 2 sources</span></span><br><span class="line">                <span class="comment">// å¦‚æœä¸€å¼€å§‹å°±æ²¡æœ‰æŒ‚èµ·ï¼Œé‚£è‡ªç„¶ä¹Ÿå°±ä¸éœ€è¦æ¢å¤å’¯</span></span><br><span class="line">                var3_6 = <span class="string">&quot;2==========&quot;</span>;</span><br><span class="line">                var4_7 = <span class="keyword">false</span>;</span><br><span class="line">                System.out.println((Object)var3_6);</span><br><span class="line">                <span class="keyword">return</span> Unit.INSTANCE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">&quot;call to &#x27;resume&#x27; before &#x27;invoke&#x27; with coroutine&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªå¾ˆæ¸…æ™°äº†ï¼Œè¿™ä¸ª suspend çœŸæ­£è¢«è°ƒç”¨æ—¶ä¼šåˆ›å»ºä¸€ä¸ª ContinuationImpl çš„å­ç±»ï¼Œé‡Œè¾¹å­˜æ”¾äº†çŠ¶æ€æœºçš„çŠ¶æ€ <code>label</code> å’Œå±€éƒ¨å˜é‡ï¼Œè¿˜æœ‰æœ€å…³é”®çš„ï¼Œä¼ è¿›æ¥çš„è°ƒç”¨è€…çš„å»¶ç»­ä½“ä¹Ÿè¢«åŒ…å«åœ¨äº†é‡Œé¢ï¼Œè¿™ä¸ªç¨åä¼šç”¨åˆ°ã€‚</p><p>å½“åç¨‹æŒ‚èµ·æ—¶ï¼ŒçŠ¶æ€æœºå‡½æ•°ä¼šè¿”å› <code>COROUTINE_SUSPEND</code> è¿™ä¸ªå¯¹è±¡ï¼Œè¿™ä¹Ÿå°±æ˜¯ suspend å‡½æ•°ç¼–è¯‘åå‡½æ•°è¿”å›å€¼å¿…ç„¶ä¸º Any çš„åŸå› ï¼Œå®é™…çš„è¿”å›å€¼æ˜¯ è¿”å›å€¼ T å’Œ COROUTINE_SUSPEND ä¹‹ä¸€ï¼Œæ˜¾ç„¶è¿™æ˜¯åœ¨ Java å’Œ Kotlin ç±»å‹ç³»ç»Ÿä¸­å‡æ— æ³•è¡¨è¾¾çš„ã€‚å±€éƒ¨å˜é‡ç­‰çŠ¶æ€ä¿¡æ¯ï¼Œéƒ½ä¼šåœ¨è°ƒç”¨ä¸‹ä¸€ä¸ª suspend å‡½æ•°å‰ä¿å­˜è¿›å»¶ç»­ä½“ (45~47) </p><p> æ¥ä¸‹æ¥çœ‹ä¸€çœ‹ CoroutineImpl è¿™ä¸ªç±»åˆ°åº•å¹²äº†ä»€ä¹ˆï¼Œè¿™ä¸ªç±»çš„ä»£ç å¾ˆå¤šï¼Œæˆ‘ä¸å…¨ç²˜è¿‡æ¥äº†ï¼ŒåªèŠ‚é€‰æœ‰æ„ä¹‰çš„éƒ¨åˆ†</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">resumeWith</span><span class="params">(result: <span class="type">Result</span>&lt;<span class="type">Any</span>?&gt;)</span></span> &#123;</span><br><span class="line">        <span class="comment">// This loop unrolls recursion in current.resumeWith(param) to make saner and shorter stack traces on resume</span></span><br><span class="line">        <span class="keyword">var</span> current = <span class="keyword">this</span></span><br><span class="line">        <span class="keyword">var</span> param = result</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// Invoke &quot;resume&quot; debug probe on every resumed continuation, so that a debugging library infrastructure</span></span><br><span class="line">            <span class="comment">// can precisely track what part of suspended callstack was already resumed</span></span><br><span class="line">            probeCoroutineResumed(current)</span><br><span class="line">            with(current) &#123;</span><br><span class="line">                <span class="keyword">val</span> completion = completion!! <span class="comment">// fail fast when trying to resume continuation without completion</span></span><br><span class="line">                <span class="keyword">val</span> outcome: Result&lt;Any?&gt; =</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="keyword">val</span> outcome = invokeSuspend(param)</span><br><span class="line">                        <span class="keyword">if</span> (outcome === COROUTINE_SUSPENDED) <span class="keyword">return</span></span><br><span class="line">                        Result.success(outcome)</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (exception: Throwable) &#123;</span><br><span class="line">                        Result.failure(exception)</span><br><span class="line">                    &#125;</span><br><span class="line">                releaseIntercepted() <span class="comment">// this state machine instance is terminating</span></span><br><span class="line">                <span class="keyword">if</span> (completion <span class="keyword">is</span> BaseContinuationImpl) &#123;</span><br><span class="line">                    <span class="comment">// unrolling recursion via loop</span></span><br><span class="line">                    current = completion</span><br><span class="line">                    param = outcome</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// top-level completion reached -- invoke and return</span></span><br><span class="line">                    completion.resumeWith(outcome)</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å…¶å®è¿™ä¸ªå‡½æ•°åšçš„äº‹å¾ˆç®€å•ï¼Œä¸åœçš„å¾ªç¯å¹¶è°ƒç”¨ current æŒ‡é’ˆçš„ invokeSuspend å‡½æ•°æ¥æ¢å¤åç¨‹çš„æ‰§è¡Œï¼Œå¦‚æœè¿”å› COROUTINE_SUSPEND é‚£å°±æ„å‘³ç€åˆæ˜¯æš‚åœï¼Œè¿”å›ï¼›å¦åˆ™è¯´æ˜å½“å‰å‡½æ•°æ‰§è¡Œå®Œäº†ï¼Œä» current æŒ‡é’ˆæŒ‡å‘çš„å»¶ç»­ä½“ä¸­æ‹¿å‡ºå®ƒä¸Šä¸€çº§çš„å»¶ç»­ä½“ï¼Œç»§ç»­ invokeï¼Œç›´åˆ°å›åˆ°æ ¹ï¼Œç»“æŸé€€å‡ºã€‚</p><p>æ€»ç»“ä¸‹ï¼Œä¼ å…¥æ¯ä¸ª suspend å‡½æ•°çš„å»¶ç»­ä½“åœ¨åˆå§‹æ—¶éƒ½æ˜¯è°ƒç”¨è€…çš„å»¶ç»­ä½“ï¼Œå½“ resume æ—¶ä¼šä¼ å…¥æœ¬å‡½æ•°çš„å»¶ç»­ä½“ï¼Œå¹¶æ ¹æ®é‡Œè¾¹çš„ label å»å¾€ç›¸åº”çš„çŠ¶æ€ï¼ŒåŒæ—¶åç¨‹æš‚åœæ—¶ä¼šè¿”å›é‚£ä¸ªç‰¹æ®Šçš„ COROUTINE_SUSPEND å¯¹è±¡ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æµ…æ‰¯-Coroutine&quot;&gt;&lt;a href=&quot;#æµ…æ‰¯-Coroutine&quot; class=&quot;headerlink&quot; title=&quot;æµ…æ‰¯ Coroutine&quot;&gt;&lt;/a&gt;æµ…æ‰¯ Coroutine&lt;/h1&gt;&lt;p&gt;å…³äº Kotlin Coroutine çš„ä½¿ç”¨å°±ä¸å¤šè¯´äº†ï¼Œå¤§</summary>
      
    
    
    
    
    <category term="kotlin" scheme="https://blog.iseki.space/tags/kotlin/"/>
    
    <category term="coroutine" scheme="https://blog.iseki.space/tags/coroutine/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨ Windows ä¸Šä½¿ç”¨ OpenPGP ç­¾ç½² Git æäº¤çš„ä¸€ç‚¹ç‚¹æ³¨æ„äº‹é¡¹</title>
    <link href="https://blog.iseki.space/2020/06/11/use-pgp-with-git-on-windows/"/>
    <id>https://blog.iseki.space/2020/06/11/use-pgp-with-git-on-windows/</id>
    <published>2020-06-10T16:00:00.000Z</published>
    <updated>2020-06-25T13:57:09.823Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åœ¨-Windows-ä¸Šä½¿ç”¨-OpenPGP-ç­¾ç½²-Git-æäº¤çš„ä¸€ç‚¹ç‚¹æ³¨æ„äº‹é¡¹"><a href="#åœ¨-Windows-ä¸Šä½¿ç”¨-OpenPGP-ç­¾ç½²-Git-æäº¤çš„ä¸€ç‚¹ç‚¹æ³¨æ„äº‹é¡¹" class="headerlink" title="åœ¨ Windows ä¸Šä½¿ç”¨ OpenPGP ç­¾ç½² Git æäº¤çš„ä¸€ç‚¹ç‚¹æ³¨æ„äº‹é¡¹"></a>åœ¨ Windows ä¸Šä½¿ç”¨ OpenPGP ç­¾ç½² Git æäº¤çš„ä¸€ç‚¹ç‚¹æ³¨æ„äº‹é¡¹</h1><p>å¯èƒ½å’Œ Git for Windows åœ¨å®‰è£…æ—¶çš„é€‰é¡¹æœ‰å…³ï¼Œéœ€è¦æ³¨æ„é»˜è®¤æƒ…å†µä¸‹ git å¯èƒ½ä¸ä¼šä½¿ç”¨ Windows ä¸­å®‰è£…çš„ gpg.exeï¼Œè¿™å¿…ç„¶ä¼šå¯¼è‡´æ‰¾ä¸åˆ°keyã€‚ï¼ˆè¦ä¸æ˜¯å› ä¸ºçœ‹åˆ°äº†gpgçš„åˆå§‹åŒ–è¾“å‡ºæˆ‘æ‰“æ­»ä¹Ÿæƒ³ä¸åˆ°æ˜¯è¿™ä¸ªé—®é¢˜ï¼‰</p><p><code>git config --global gpg.program &quot;c:/Program Files (x86)/GnuPG/bin/gpg.exe&quot;</code> å³å¯ï¼Œæ³¨æ„çœ‹å‡†äº†è‡ªå·±æœºå™¨ä¸Šçš„è·¯å¾„æ˜¯å•¥ã€‚</p><p>å¦ <code>git config commit.gpgsign true</code> å³å¯è®¾ç½®è¯¥ä»“åº“é»˜è®¤ç­¾åæäº¤ï¼ŒIDEAé‡Œ commit æ—¶å°±ä¼šå¼¹å‡º Git for windows çš„å¯†é’¥çª—å£äº†ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;åœ¨-Windows-ä¸Šä½¿ç”¨-OpenPGP-ç­¾ç½²-Git-æäº¤çš„ä¸€ç‚¹ç‚¹æ³¨æ„äº‹é¡¹&quot;&gt;&lt;a href=&quot;#åœ¨-Windows-ä¸Šä½¿ç”¨-OpenPGP-ç­¾ç½²-Git-æäº¤çš„ä¸€ç‚¹ç‚¹æ³¨æ„äº‹é¡¹&quot; class=&quot;headerlink&quot; title=&quot;åœ¨ Windows ä¸Šä½¿ç”¨ </summary>
      
    
    
    
    
    <category term="pgp" scheme="https://blog.iseki.space/tags/pgp/"/>
    
    <category term="git" scheme="https://blog.iseki.space/tags/git/"/>
    
    <category term="window" scheme="https://blog.iseki.space/tags/window/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ CLion + MSVC ä¸‹çš„å­—ç¬¦ç¼–ç é—®é¢˜</title>
    <link href="https://blog.iseki.space/2020/05/31/charset-clion-msvc/"/>
    <id>https://blog.iseki.space/2020/05/31/charset-clion-msvc/</id>
    <published>2020-05-31T13:00:00.000Z</published>
    <updated>2020-06-25T13:57:09.820Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è§£å†³-CLion-MSVC-ä¸‹çš„å­—ç¬¦ç¼–ç é—®é¢˜"><a href="#è§£å†³-CLion-MSVC-ä¸‹çš„å­—ç¬¦ç¼–ç é—®é¢˜" class="headerlink" title="è§£å†³ CLion + MSVC ä¸‹çš„å­—ç¬¦ç¼–ç é—®é¢˜"></a>è§£å†³ CLion + MSVC ä¸‹çš„å­—ç¬¦ç¼–ç é—®é¢˜</h1><p>ç¬¬ä¸€æ¬¡è¿™ä¹ˆç”¨ï¼Œä¸Šæ¥å­—ç¬¦ç¼–ç å°±ç‚¸äº†ï¼Œä¸å‡ºæ„å¤– log ä¸­ä¼šå‡ºç°å¦‚ä¸‹å†…å®¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">warning C4819: è¯¥æ–‡ä»¶åŒ…å«ä¸èƒ½åœ¨å½“å‰ä»£ç é¡µ(936)ä¸­è¡¨ç¤ºçš„å­—ç¬¦ã€‚è¯·å°†è¯¥æ–‡ä»¶ä¿å­˜ä¸º Unicode æ ¼å¼ä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯è¯¡å¼‚çš„ç¼–è¯‘å¤±è´¥è¯­æ³•é”™è¯¯ï¼Œæ¯”å¦‚æ¢è¡Œç¬¦ã€åˆ†å·ç­‰ç­‰</p><p>åŸå› æ˜¯ CLion é»˜è®¤ä½¿ç”¨ UTF-8 ç¼–ç ï¼ŒMSVC ç»§æ‰¿äº† MS å®¶æ—çš„ä¸€è´¯ä¼ ç»Ÿï¼Œé™¤éæ˜ç¡®æŒ‡å®šå¦åˆ™è¦ä¹ˆ UTF-8 with BOM è¦ä¹ˆå½“å‰ä»£ç é¡µã€‚</p><p>è§£å†³åŠæ³•ä¹Ÿç®€å•ï¼ŒåŠ ä¸Šå‘½ä»¤è¡Œå¼€å…³å°±è¡Œäº†ï¼š <code>\utf-8</code> æˆ–è€… <code>source-charset:utf-8 /execution-charset:utf-8</code> <a href="https://docs.microsoft.com/en-us/cpp/build/reference/utf-8-set-source-and-executable-character-sets-to-utf-8">å‚è§MSVCæ–‡æ¡£&gt;&gt;</a></p><p>é»˜è®¤åˆ›å»ºçš„é¡¹ç›®æ˜¯ CMake çš„ï¼Œåœ¨ <code>CMakeList.txt</code> ä¸­åŠ å…¥å¦‚ä¸‹å†…å®¹å³å¯</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">add_compile_options</span>(<span class="string">&quot;$&lt;$&lt;C_COMPILER_ID:MSVC&gt;:/utf-8&gt;&quot;</span>)</span><br><span class="line"><span class="keyword">add_compile_options</span>(<span class="string">&quot;$&lt;$&lt;CXX_COMPILER_ID:MSVC&gt;:/utf-8&gt;&quot;</span>)</span><br></pre></td></tr></table></figure><p>æ‹¬å·ä¸­è¡¨è¾¾å¼è¯­æ³•å…·ä½“å‚è§ <a href="https://cmake.org/cmake/help/latest/manual/cmake-generator-expressions.7.html#manual:cmake-generator-expressions(7)">cmake-generator-expressions(7)</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;è§£å†³-CLion-MSVC-ä¸‹çš„å­—ç¬¦ç¼–ç é—®é¢˜&quot;&gt;&lt;a href=&quot;#è§£å†³-CLion-MSVC-ä¸‹çš„å­—ç¬¦ç¼–ç é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³ CLion + MSVC ä¸‹çš„å­—ç¬¦ç¼–ç é—®é¢˜&quot;&gt;&lt;/a&gt;è§£å†³ CLion + MSVC ä¸‹çš„</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>isekiæ ¹æœ¬ä¸ä¼šå†™blogå‘¢</title>
    <link href="https://blog.iseki.space/2020/04/21/awsl/"/>
    <id>https://blog.iseki.space/2020/04/21/awsl/</id>
    <published>2020-04-21T15:33:10.000Z</published>
    <updated>2020-06-25T13:57:09.820Z</updated>
    
    <content type="html"><![CDATA[<p>iseki å“ªé‡Œä¼šå†™åšå®¢å‘¢â€¦è¿ä»€ä¹ˆæ˜¯åšå®¢éƒ½è¯´ä¸æ¸…æ¥šâ€¦åªèƒ½æ—¶ä¸æ—¶å‘å‘ç‰¢éªšäº†â€¦äººé€æ¸çš„å©†å©†å¦ˆå¦ˆâ€¦æ„ˆå‘å˜å¾—æ— èŠâ€¦</p><p>å†çœ‹çœ‹å‰é¢çš„è·¯â€¦ä¸çŸ¥è¯¥å¹²ä»€ä¹ˆï¼Œä¹Ÿä¸çŸ¥è¯¥èµ°å‘ä½•æ–¹å‘¢ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;iseki å“ªé‡Œä¼šå†™åšå®¢å‘¢â€¦è¿ä»€ä¹ˆæ˜¯åšå®¢éƒ½è¯´ä¸æ¸…æ¥šâ€¦åªèƒ½æ—¶ä¸æ—¶å‘å‘ç‰¢éªšäº†â€¦äººé€æ¸çš„å©†å©†å¦ˆå¦ˆâ€¦æ„ˆå‘å˜å¾—æ— èŠâ€¦&lt;/p&gt;
&lt;p&gt;å†çœ‹çœ‹å‰é¢çš„è·¯â€¦ä¸çŸ¥è¯¥å¹²ä»€ä¹ˆï¼Œä¹Ÿä¸çŸ¥è¯¥èµ°å‘ä½•æ–¹å‘¢ã€‚&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>åœ¨ Gradle é‡Œå†™ Codegen ä¸º Kotlin çš„æ¯ä¸ªç±»ç”Ÿæˆ xxxOf()</title>
    <link href="https://blog.iseki.space/2020/04/12/write-codegen-in-gradle/"/>
    <id>https://blog.iseki.space/2020/04/12/write-codegen-in-gradle/</id>
    <published>2020-04-12T13:09:42.000Z</published>
    <updated>2020-06-25T13:57:09.823Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åœ¨-Gradle-é‡Œå†™-Codegen-ä¸º-Kotlin-çš„æ¯ä¸ªç±»ç”Ÿæˆ-xxxOf"><a href="#åœ¨-Gradle-é‡Œå†™-Codegen-ä¸º-Kotlin-çš„æ¯ä¸ªç±»ç”Ÿæˆ-xxxOf" class="headerlink" title="åœ¨ Gradle é‡Œå†™ Codegen ä¸º Kotlin çš„æ¯ä¸ªç±»ç”Ÿæˆ xxxOf()"></a>åœ¨ Gradle é‡Œå†™ Codegen ä¸º Kotlin çš„æ¯ä¸ªç±»ç”Ÿæˆ xxxOf()</h1><p>è¿™ä¸¤å¤©ä¹Ÿä¸çŸ¥é“å’‹å›äº‹ï¼Œå’Œ codegen æ ä¸Šäº†ï¼Œä¹Ÿæœªå¿…èŠ‚çœå¤šå°‘æ—¶é—´ï¼Œå¤æ‚çš„ codegen å†™èµ·æ¥æŒºç´¯çš„Â·Â·Â·Â·Â·Â· ä¸Šæ¬¡åœ¨ Vert.x é‡Œçœ‹åˆ°äº† <code>classnameOf(params...)</code> è¿™ç§å†™æ³•ï¼Œä¾‹å¦‚ <code>httpOptionsOf(port = 8080,...)</code> é¡¿æ—¶æ„Ÿè§‰éå¸¸èˆ’æœï¼Œå†³å®šä¹Ÿç»™è‡ªå·±çš„ä»£ç åŠ ä¸Šã€‚</p><p>codegen çš„æ–¹æ¡ˆæ— éå°±è¿™å‡ ç§ï¼š</p><ol><li>ç‹¬ç«‹çš„ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œç”¨èµ·æ¥éº»çƒ¦ï¼Œä¸èƒ½å¾ˆèˆ’æœçš„è‡ªåŠ¨åŒ–ï¼Œä½†æ˜¯å†™èµ·æ¥ç®€å•å•Šï¼ˆx</li><li>åˆ©ç”¨ Java çš„ APT æ³¨è§£å¤„ç†å™¨ï¼Œç¼ºç‚¹æ˜¯é¦–å…ˆåªèƒ½æ”¯æŒ Javaï¼ŒKotlin/JVM è™½ç„¶æœ‰ KAPT å¯ä»¥ç”¨ï¼Œä½†å¹¶ä¸èˆ’æœï¼Œè€Œä¸”æœ‰æš—å‘ï¼›å…¶æ¬¡æœ€å…³é”®çš„æ˜¯è¿™ä¸œè¥¿æ˜¯å®Œå…¨åœ¨ç¼–è¯‘æ—¶ç”Ÿæˆä»£ç ï¼Œä¸€èˆ¬çš„è®¾è®¡æ–¹å¼éƒ½ä¸ä¼šä¿ç•™ç¼–è¯‘æ—¶ç”Ÿæˆçš„æºç æ–‡ä»¶ã€‚è¿™æ„å‘³ç€ IDE çš„æç¤ºä¼šçˆ†ç‚¸ï¼Œä¸€èˆ¬çš„è§£å†³æ–¹æ¡ˆæ˜¯å†å†™ä¸€ä¸ª IDE æ’ä»¶Â·Â·Â·Â·Â·Â·</li><li>ç¼–è¯‘å™¨æ’ä»¶Â·Â·Â·Â·Â·Â· è¿™ä¸ªï¼Œè™½ç„¶è§£å†³äº†æ³¨è§£å¤„ç†å™¨ä»…æ”¯æŒ JVM çš„é—®é¢˜ï¼Œä½†ä¾æ—§ä¸èƒ½è§£å†³ IDE æç¤ºçš„é—®é¢˜ï¼Œè€Œä¸”å·¥ä½œé‡ä¼šçˆ†ç‚¸Â·Â·Â·Â·Â·Â·</li><li>ç‹¬ç«‹çš„ codegenï¼Œåˆ©ç”¨ gradle çš„ taskï¼Œåœ¨æ°å½“çš„æ—¶å€™è§¦å‘ï¼ŒåŒæ—¶ç”Ÿæˆçš„ä»£ç åŒ…å«åœ¨é¡¹ç›®çš„æºé›†ä¸­ï¼Œä¸ç”¨å†™ IDE æ’ä»¶äº†ï¼ˆ</li></ol><p>å½“ç„¶ï¼Œå¯ä»¥ç²—æš´çš„å¼€ä¸€ä¸ªå­æ¨¡å—å•ç‹¬ç¼–è¯‘å•ç‹¬è¿è¡Œï¼Œä½†æ˜¯å®åœ¨æ˜¯å¤ªè‡ƒè‚¿ä¸”æ²¡å¿…è¦äº†</p><p>å‚è€ƒä¸‹ Gradle çš„å®˜æ–¹æ–‡æ¡£ï¼Œæ’ä»¶çš„å­˜åœ¨ä¸»è¦æœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯æœ€ç®€å•çš„ï¼Œç›´æ¥ä¸€ä¸ª <code>*.gradle(.kts)?</code> æ–‡ä»¶ï¼›å¦ä¸€ç§æ˜¯æ­£ç»çš„æ’ä»¶ï¼Œå®˜æ–¹çš„è¯´æ³•æ˜¯ Binary Pluginï¼Œåè€…èƒ½æä¾›æ›´å¼ºå¤§çš„èƒ½åŠ›ï¼Œå‰è€…å……å…¶é‡å°±æ˜¯ä¸ªè„šæœ¬ã€‚<br>å¹³æ—¶ä½¿ç”¨çš„æ’ä»¶åŸºæœ¬éƒ½æ˜¯äºŒè¿›åˆ¶æ’ä»¶ï¼Œå¦‚ <code>java</code> <code>kotlinå…¨å®¶æ¡¶</code> <code>maven-*</code> ç­‰ç­‰ï¼Œ</p><p>å°±å†™ä¸€ä¸ªä¸´æ—¶ç”¨çš„ codegen å®åœ¨æ²¡å¿…è¦èŠ±è´¹å¤ªå¤§ç²¾åŠ›ç ”ç©¶ Gradle çš„å®˜æ–¹æ–‡æ¡£ï¼Œé‚£ä¹ˆå°±ä»ä¸€ä¸ªç®€å•çš„æ–‡ä»¶å†™èµ·ã€‚</p><p>æœ€ç®€å•çš„åŠæ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">println(&quot;Hello world&quot;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apply(from &#x3D; &quot;codegen.gradle.kts&quot;)</span><br></pre></td></tr></table></figure><p>ä¸å‡ºæ„å¤–ï¼Œæ¯æ¬¡æ‰§è¡Œ <code>gradlew</code> æ—¶éƒ½èƒ½çœ‹åˆ°æ§åˆ¶å°ä¸­æ‰“å‡ºçš„ Hello worldã€‚é‚£ä¹ˆå…¶å®å‰©ä¸‹çš„äº‹æƒ…å°±å¾ˆç®€å•äº†ã€‚ï¼ˆæ„Ÿè§‰æœ€å›°éš¾çš„æ˜¯å®Œå…¨ä¸ç†Ÿæ‚‰çš„ Gradle ğŸ˜¥</p><p>éœ€è¦åšçš„ä¸œè¥¿å¹¶ä¸å¤šï¼ŒKotlin çš„æ–‡æ³•æ–‡ä»¶æœ‰ç°æˆçš„ï¼Œç”¨ antlr ç”Ÿæˆä¸‹å°±å¯ä»¥ç”¨äº†ã€‚è¿™é‡Œç”¨çš„æ˜¯æ¥è‡ª antlr å®˜æ–¹ä»“åº“çš„æ–‡ä»¶ï¼š<a href="https://github.com/antlr/grammars-v4/tree/master/kotlin/kotlin-formal">https://github.com/antlr/grammars-v4/tree/master/kotlin/kotlin-formal</a></p><p>æŠŠå®ƒä¸¢è¿› <code>buildSrc/src/main/[java|kotlin|groovy]</code> ç„¶åå°±å¯ä»¥åœ¨åˆé€‚çš„ <code>gradle.kts</code> æ–‡ä»¶ä¸­ä½¿ç”¨äº†ã€‚å½“ç„¶å¦‚æœè§‰å¾—è¿™ä¸å¤Ÿå¥½ï¼Œä¹Ÿå¯ä»¥åœ¨å®Œå…¨ç‹¬ç«‹çš„é¡¹ç›®ä¸­æ„å»ºä¸€ä¸ª jarï¼ŒæŠŠä»–åŒ…å«è¿› <code>buildscript&#123;&#125;</code> å°±åƒé‚£äº›æ’ä»¶ä¸€æ ·ã€‚</p><p>å¾…ç»­Â·Â·Â·Â·Â·Â·</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;åœ¨-Gradle-é‡Œå†™-Codegen-ä¸º-Kotlin-çš„æ¯ä¸ªç±»ç”Ÿæˆ-xxxOf&quot;&gt;&lt;a href=&quot;#åœ¨-Gradle-é‡Œå†™-Codegen-ä¸º-Kotlin-çš„æ¯ä¸ªç±»ç”Ÿæˆ-xxxOf&quot; class=&quot;headerlink&quot; title=&quot;åœ¨ Gradle é‡Œ</summary>
      
    
    
    
    
    <category term="gradle" scheme="https://blog.iseki.space/tags/gradle/"/>
    
  </entry>
  
  <entry>
    <title>Gradle é‡Œæ‰§è¡Œ Jar çš„å‡ ç§åŠæ³•</title>
    <link href="https://blog.iseki.space/2020/04/11/gradle-execute-jar/"/>
    <id>https://blog.iseki.space/2020/04/11/gradle-execute-jar/</id>
    <published>2020-04-11T12:44:00.000Z</published>
    <updated>2020-06-25T13:57:09.821Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Gradle è¿™ä¸ªä¸œè¥¿çœŸæ˜¯è®©äººå¤´å¤§Â·Â·Â·Â·Â·Â· è¿™é‡Œæƒå½“ç•™ä¸ªç¬”è®°å¤‡å¿˜äº†ï¼Œæ”¹æ—¥è¦å¥½å¥½å­¦ä¹ ä¸‹ Gradle</p></blockquote><p>ä¹‹å‰åªç”¨è¿‡ <code>application</code> æ’ä»¶ï¼Œç»“æœç”¨äº† Kotlin MPP åé‚£ä¸ªæ’ä»¶ä¼¼ä¹å¤±æ•ˆäº†ï¼Œè™½ç„¶åº”è¯¥æœ‰åŠæ³•é€šè¿‡æ‰‹åŠ¨é…ç½®ç»§ç»­ä½¿ç”¨é‚£ä¸ªæ’ä»¶ï¼Œä½†æ˜¯è€ƒè™‘åˆ°è‡ªå·±å®Œå…¨ä¸ç†Ÿæ‚‰ Gradle è¿˜æ˜¯ä¸å¤šæŠ˜è…¾äº†Â·Â·Â·</p><p>ä»¥ä¸‹å†…å®¹æ¥è‡ª StackOverflowâ€¦â€¦</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tasks.create(<span class="string">&quot;execute&quot;</span>) &#123;</span><br><span class="line">    dependsOn(tasks.getByName(<span class="string">&quot;jvmJar&quot;</span>))</span><br><span class="line">    doLast &#123;</span><br><span class="line">        javaexec &#123;</span><br><span class="line">            <span class="keyword">this</span>.main = <span class="string">&quot;-jar&quot;</span></span><br><span class="line">            <span class="keyword">val</span> file = File(buildDir.absolutePath + <span class="string">&quot;/libs/project-jvm-0.0.1.jar&quot;</span>)</span><br><span class="line">            println(<span class="string">&quot;Execute Jar: &quot;</span> + file.absolutePath)</span><br><span class="line">            <span class="keyword">this</span>.args(file.absolutePath)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¦æ³¨æ„çš„æ˜¯è¦å†™å¥½ <code>manifest</code> çš„ <code>Main-Class</code> è¿˜è¦ä¾èµ–çš„é—®é¢˜ï¼Œæœ€ç²—æš´çš„åŠæ³•æ— éå°±æ˜¯æ‰“åŒ…æˆ Fat-Jar (x</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Gradle è¿™ä¸ªä¸œè¥¿çœŸæ˜¯è®©äººå¤´å¤§Â·Â·Â·Â·Â·Â· è¿™é‡Œæƒå½“ç•™ä¸ªç¬”è®°å¤‡å¿˜äº†ï¼Œæ”¹æ—¥è¦å¥½å¥½å­¦ä¹ ä¸‹ Gradle&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¹‹å‰åªç”¨è¿‡ &lt;code&gt;application&lt;/code&gt; æ’ä»¶ï¼Œç»“æœç”¨äº† Kotlin MPP å</summary>
      
    
    
    
    
    <category term="gradle" scheme="https://blog.iseki.space/tags/gradle/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€æ¬¡ä½¿ç”¨ Kotlin MPP</title>
    <link href="https://blog.iseki.space/2020/04/11/kotlin-mpp-first/"/>
    <id>https://blog.iseki.space/2020/04/11/kotlin-mpp-first/</id>
    <published>2020-04-11T06:18:15.000Z</published>
    <updated>2020-06-25T13:57:09.822Z</updated>
    
    <content type="html"><![CDATA[<p>Kotlin å¤šå¹³å°ä¹Ÿæ¨å‡ºäº†å¥½ä¸€é˜µå­äº†ï¼Œå´ä¸€ç›´æ²¡ç”¨è¿‡ï¼Œä»Šå¤©ç¬¬ä¸€æ¬¡ç”¨ï¼Œå®˜æ–¹æ–‡æ¡£ä¸å¤šï¼Œè®°å½•ä¸‹é‡åˆ°çš„å‘ã€‚</p><blockquote><p>æœ¬æ–‡ Kotlin Multiplatform Gradle æ’ä»¶ç‰ˆæœ¬ <strong>1.3.71</strong></p></blockquote><h2 id="Gradle-é…ç½®"><a href="#Gradle-é…ç½®" class="headerlink" title="Gradle é…ç½®"></a>Gradle é…ç½®</h2><p>ä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘æ¼æ‰äº†ä»€ä¹ˆå¼€å…³ï¼Œidea é»˜è®¤ç”Ÿæˆçš„é¡¹ç›® gradle æ˜¯ <code>build.gradle</code> è€Œä¸æ˜¯ <code>build.gradle.kts</code> ã€‚ä¸€çœ‹åˆ°é™Œç”Ÿçš„è¯­æ³•å°±éš¾å—ï¼Œå†³å®šæ‰‹åŠ¨æ”¹æˆ Kotlin DSLã€‚æœ‰å…³ DSL çš„è¯­æ³•åœ¨è¿™é‡Œ<a href="https://www.kotlincn.net/docs/reference/building-mpp-with-gradle.html">å¯ä»¥</a>æ‰¾åˆ°ã€‚</p><p>æ³¨æ„å¦‚æœé¡¹ç›®åŒæ—¶å­˜åœ¨ Java ä»£ç ï¼Œè¦å¼€å¯ <code>withJava</code></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#123;</span><br><span class="line">    jvm &#123; withJava() &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JVM-Jar-çš„æ³¨æ„äº‹é¡¹"><a href="#JVM-Jar-çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="JVM-Jar çš„æ³¨æ„äº‹é¡¹"></a>JVM-Jar çš„æ³¨æ„äº‹é¡¹</h2><p>é»˜è®¤ç»™å‡ºçš„ jar çš„ <code>manifest</code> æ–‡ä»¶ä¸­å¹¶ä¸åŒ…å« <code>Main-Class</code> é¡¹ç›®ï¼Œéœ€è¦å†™è¿› gradle ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">kotlin&#123;</span><br><span class="line">    tasks.withType(Jar::<span class="class"><span class="keyword">class</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.manifest&#123;</span><br><span class="line">            attributes[<span class="string">&quot;Main-Class&quot;</span>] = <span class="string">&quot;MainKt&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åŠ å…¥ä¸‹é¢åŠ¨ä½œåä¼šç”Ÿæˆ Fat-Jar</span></span><br><span class="line">        doFirst&#123;</span><br><span class="line">            from(configurations[<span class="string">&quot;runtimeClasspath&quot;</span>].files</span><br><span class="line">            .filter &#123; it.name.endsWith(<span class="string">&quot;jar&quot;</span>) &#125;.map &#123; zipTree(it) &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¾…ç»­Â·Â·Â·Â·Â·Â·</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Kotlin å¤šå¹³å°ä¹Ÿæ¨å‡ºäº†å¥½ä¸€é˜µå­äº†ï¼Œå´ä¸€ç›´æ²¡ç”¨è¿‡ï¼Œä»Šå¤©ç¬¬ä¸€æ¬¡ç”¨ï¼Œå®˜æ–¹æ–‡æ¡£ä¸å¤šï¼Œè®°å½•ä¸‹é‡åˆ°çš„å‘ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ Kotlin Multiplatform Gradle æ’ä»¶ç‰ˆæœ¬ &lt;strong&gt;1.3.71&lt;/strong&gt;&lt;/p&gt;
&lt;/b</summary>
      
    
    
    
    
    <category term="kotlin" scheme="https://blog.iseki.space/tags/kotlin/"/>
    
    <category term="gradle" scheme="https://blog.iseki.space/tags/gradle/"/>
    
    <category term="kotlin-mpp" scheme="https://blog.iseki.space/tags/kotlin-mpp/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ gradle æ„å»º Kotlin React åº”ç”¨</title>
    <link href="https://blog.iseki.space/2020/01/10/about-kotlinjs-react/"/>
    <id>https://blog.iseki.space/2020/01/10/about-kotlinjs-react/</id>
    <published>2020-01-09T16:13:14.000Z</published>
    <updated>2020-06-25T13:57:09.818Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨-gradle-æ„å»º-Kotlin-React-åº”ç”¨"><a href="#ä½¿ç”¨-gradle-æ„å»º-Kotlin-React-åº”ç”¨" class="headerlink" title="ä½¿ç”¨ gradle æ„å»º Kotlin React åº”ç”¨"></a>ä½¿ç”¨ gradle æ„å»º Kotlin React åº”ç”¨</h1><p>ä¹‹å‰ JetBrain å®˜æ–¹æä¾›äº†ä¸€ä¸ª <code>create-react-kotlin-app</code> å·¥å…·ï¼Œè¿™ä¸ªä¸œè¥¿å¯ç”¨æ¥åˆ›å»ºå¯ä½¿ç”¨ npm æ„å»ºçš„åº”ç”¨â€¦ç°åœ¨ç¤¾åŒºä¼¼ä¹åˆæ‰“äº†ä¸€å±‚åŒ…ï¼Œåˆ‡æ¢åˆ° gradle äº†ï¼Œä½†çœ‹èµ·æ¥åº•å±‚è¿˜æ˜¯æå¤§çš„ä¾èµ– npmâ€¦ ï¼ˆæ¯•ç«Ÿé‚£ä¸€å¨åº“è¿˜æ˜¯è¦ç”¨çš„ï¼‰â€¦</p><p>ä¼¼ä¹å®˜æ–¹ç›¸å…³çš„æ–‡æ¡£è¿˜æ²¡æœ‰å‡ºæ¥ï¼Œé‚£ä¹ˆè¿™é‡Œå°±æ•´ç†ä¸€ç‚¹è‡ªå·±æœé›†åˆ°çš„ä¸œè¥¿ã€‚</p><h3 id="å…³äº-build-gradle-kts"><a href="#å…³äº-build-gradle-kts" class="headerlink" title="å…³äº build.gradle.kts"></a>å…³äº build.gradle.kts</h3><p>è¦å¼•å…¥çš„æ’ä»¶å’Œä¾èµ–å€’æ˜¯ä¸å¤š(?)ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œçš„ç‰ˆæœ¬æœ€å¥½å’Œä¸‹æ–¹ç»Ÿä¸€</span></span><br><span class="line">    id(<span class="string">&quot;org.jetbrains.kotlin.js&quot;</span>) version <span class="string">&quot;1.3.60&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">dependencies &#123;</span><br><span class="line">    implementation(kotlin(<span class="string">&quot;stdlib-js&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="React-ç›¸å…³ä¾èµ–"><a href="#React-ç›¸å…³ä¾èµ–" class="headerlink" title="React ç›¸å…³ä¾èµ–"></a>React ç›¸å…³ä¾èµ–</h3><p>è¦æ³¨æ„ npm ä¾èµ–ä¸èƒ½åœ¨é¡¶å±‚çš„ dependencies é‡Œå¼•ç”¨ï¼Œè€Œæ˜¯ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">kotlin &#123;</span><br><span class="line">    sourceSets[<span class="string">&quot;main&quot;</span>].dependencies &#123;</span><br><span class="line">        <span class="comment">// ä¸€å®šè¦å¼•å…¥ React çš„ä¸€ç³»åˆ—ä¾èµ–</span></span><br><span class="line">        implementation(npm(<span class="string">&quot;react&quot;</span>, <span class="string">&quot;16.9.0&quot;</span>))</span><br><span class="line">        implementation(npm(<span class="string">&quot;react-dom&quot;</span>, <span class="string">&quot;16.9.0&quot;</span>))</span><br><span class="line">        implementation(npm(<span class="string">&quot;core-js&quot;</span>, <span class="string">&quot;3.4.8&quot;</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Maven ç‰ˆçš„ Kotlin-React-Wrapper ä¾èµ–:</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">implementation(<span class="string">&quot;org.jetbrains:kotlin-react:16.9.0-pre.89-kotlin-1.3.60&quot;</span>)</span><br><span class="line">implementation(<span class="string">&quot;org.jetbrains:kotlin-react-dom:16.9.0-pre.89-kotlin-1.3.60&quot;</span>)</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä¾èµ–å¹¶æœªå‘å¸ƒåœ¨ä¸­å¤®ä»“åº“ï¼Œæ‰€ä»¥ä¸€å®šå¼•å…¥</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">repositories &#123;</span><br><span class="line">    maven(<span class="string">&quot;https://dl.bintray.com/kotlin/kotlin-eap/&quot;</span>)</span><br><span class="line">    maven(<span class="string">&quot;https://dl.bintray.com/kotlin/kotlin-js-wrappers/&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯åœ¨å¦‚ä¸‹åœ°å€æ‰¾åˆ°ç‰ˆæœ¬ä¿¡æ¯ç­‰ï¼š</p><ul><li><a href="https://www.npmjs.com/package/@jetbrains/kotlin-react">https://www.npmjs.com/package/@jetbrains/kotlin-react</a></li><li><a href="https://www.npmjs.com/package/@jetbrains/kotlin-react-dom">https://www.npmjs.com/package/@jetbrains/kotlin-react-dom</a></li></ul><p>å¯ä½¿ç”¨ <code>gradlew run / gradlew browserRun</code> æ‹‰èµ·å¼€å‘æœåŠ¡ï¼Œ <code>gradlew browserWebpack</code> å¼€å§‹ç”Ÿäº§æ„å»º</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä½¿ç”¨-gradle-æ„å»º-Kotlin-React-åº”ç”¨&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-gradle-æ„å»º-Kotlin-React-åº”ç”¨&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ gradle æ„å»º Kotlin React åº”ç”¨&quot;&gt;&lt;/a&gt;ä½¿ç”¨</summary>
      
    
    
    
    
    <category term="kotlin" scheme="https://blog.iseki.space/tags/kotlin/"/>
    
    <category term="react" scheme="https://blog.iseki.space/tags/react/"/>
    
    <category term="kotlin-js" scheme="https://blog.iseki.space/tags/kotlin-js/"/>
    
    <category term="js" scheme="https://blog.iseki.space/tags/js/"/>
    
    <category term="gradle" scheme="https://blog.iseki.space/tags/gradle/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Gradle Shadow æ’ä»¶ç”Ÿæˆ Fat-Jar</title>
    <link href="https://blog.iseki.space/2019/12/08/use-shadow-gradle-plugin-gen-fatjar/"/>
    <id>https://blog.iseki.space/2019/12/08/use-shadow-gradle-plugin-gen-fatjar/</id>
    <published>2019-12-08T10:27:59.000Z</published>
    <updated>2020-06-25T13:57:09.823Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨-Gradle-Shadow-æ’ä»¶ç”Ÿæˆ-Fat-Jar"><a href="#ä½¿ç”¨-Gradle-Shadow-æ’ä»¶ç”Ÿæˆ-Fat-Jar" class="headerlink" title="ä½¿ç”¨ Gradle Shadow æ’ä»¶ç”Ÿæˆ Fat-Jar"></a>ä½¿ç”¨ Gradle Shadow æ’ä»¶ç”Ÿæˆ Fat-Jar</h1><p>åœ¨ç½‘ç»œä¸Šæ‰¾äº†å¥½ä¸€é˜µå­ï¼Œæœ€ç»ˆå‘ç°äº† <a href="https://github.com/johnrengelman/shadow">Gradle Shadow</a> è¿™ä¸ªæ’ä»¶ï¼Œç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼š</p><p>é¦–å…ˆéœ€è¦ä¿®æ”¹ gradle çš„ <code>buildscript</code> æ¥å¼•å…¥è¿™ä¸ªä¾èµ–ï¼Œè¿™ä¸ªä¸œè¥¿ IDEA é»˜è®¤ç”Ÿæˆçš„ Kotlin é¡¹ç›®æ²¡æœ‰ï¼Œè‡ªå·±åŠ è¿›å»:</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œç›®å‰çš„ç‰ˆæœ¬å·æ˜¯ 5.2.0 ï¼Œå¯¹åº” Gradle ç‰ˆæœ¬ 5.x ï¼Œè¾ƒä½çš„ç‰ˆæœ¬å¯èƒ½æ— æ³•ä½¿ç”¨</span></span><br><span class="line">        classpath(<span class="string">&quot;com.github.jengelman.gradle.plugins:shadow:5.2.0&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨ <code>plugins</code> ä¸­åŠ å…¥è¿™ä¸ªæ’ä»¶å°±è¡Œäº†ï¼š</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plugins&#123;</span><br><span class="line">    id(<span class="string">&quot;com.github.johnrengelman.shadow&quot;</span>) version <span class="string">&quot;5.2.0&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†é¿å…ç”Ÿæˆçš„ fat-jar çš„ <code>META-INF/MANIFEST.MF</code> ä¸­ç¼ºå°‘ <code>Main-Class</code> é¡¹ï¼Œå¯¼è‡´æ— æ³•ç›´æ¥å¯åŠ¨ï¼Œå»ºè®®åœ¨ <code>plugins</code> ä¸­åŠ å…¥ <code>application</code>ï¼Œå¹¶é…ç½®å¥½ç›¸å…³å±æ€§ :</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plugins&#123;</span><br><span class="line">    application</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">application &#123;</span><br><span class="line">    mainClassName = <span class="string">&quot;yours.MainKt&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><!-- **Note:** éœ€è¦æ³¨æ„çš„æ˜¯ä¸å»ºè®®ä»£ç ä¸­åœ¨é¡¶å±‚åŒ…è¿›è¡Œä»»ä½•å£°æ˜ï¼Œè¿™åœ¨ä¸€äº›æ’ä»¶å’Œåº“ä¸‹å¯èƒ½å‡ºç°é—®é¢˜ã€‚  ï¼ˆæ¯”å¦‚ kapt å¯èƒ½ä¸èƒ½æ­£ç¡®å¤„ç†æ³¨è§£ï¼ŒåŒæ—¶ç”±äºæ“ä½œç³»ç»Ÿ locale å’Œå­—ç¬¦ç¼–ç é—®é¢˜ï¼Œä½ æ— æ³•åœ¨ IDEA ä¸­çœ‹åˆ°å¯ä»¥ç†è§£çš„é”™è¯¯ä¿¡æ¯ï¼‰ --><p>æœ€åå°±å¯ä»¥æ‰§è¡Œ <code>.\gradlew shadowjar</code> æ¥ç”Ÿæˆ fat-jar äº†</p><p>è¿™äº›é¡¹ä¹Ÿå¯ä» <code>shadowJar</code> é…ç½®</p><p><strong>Note:</strong> ç”±äºç›®å‰ç‰ˆæœ¬ <code>5.2.0</code> å°šæœªæ”¯æŒ Kotlin DSL, å¦‚éœ€è®¿é—® <code>shadowJar</code> è¿›è¡Œæ›´è¯¦ç»†çš„é…ç½®ï¼ˆå¦‚ï¼š<a href="https://imperceptiblethoughts.com/shadow/configuration/filtering/">è¿‡æ»¤ jar åŒ…ä¸­çš„å†…å®¹</a>ï¼‰<br>ç›®å‰çš„ Workaround å¦‚ä¸‹ï¼š <a href="https://github.com/johnrengelman/shadow/issues/533#issue-541921197">&gt;&gt;</a></p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> shadowJar: com.github.jengelman.gradle.plugins.shadow.tasks.ShadowJar <span class="keyword">by</span> tasks</span><br></pre></td></tr></table></figure><p>æ›´å¤šçš„å†…å®¹å»ºè®®å‚è€ƒå®˜æ–¹ User Guide: <a href="https://imperceptiblethoughts.com/shadow/">https://imperceptiblethoughts.com/shadow/</a></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/johnrengelman/shadow">https://github.com/johnrengelman/shadow</a></p><p><strong>Note:</strong> æœ¬æ–‡æ¶‰åŠçš„ Gradle ä»£ç å‡ä¸º Gradle Kotlin DSL ï¼Œè§†æƒ…å†µå¯èƒ½éœ€è¦è‡ªè¡Œä¿®æ”¹</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä½¿ç”¨-Gradle-Shadow-æ’ä»¶ç”Ÿæˆ-Fat-Jar&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨-Gradle-Shadow-æ’ä»¶ç”Ÿæˆ-Fat-Jar&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨ Gradle Shadow æ’ä»¶ç”Ÿæˆ Fat-Jar&quot;&gt;&lt;/a</summary>
      
    
    
    
    
    <category term="kotlin" scheme="https://blog.iseki.space/tags/kotlin/"/>
    
    <category term="gradle" scheme="https://blog.iseki.space/tags/gradle/"/>
    
    <category term="jar" scheme="https://blog.iseki.space/tags/jar/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„ PGP Key</title>
    <link href="https://blog.iseki.space/2019/11/01/pgpkey/"/>
    <id>https://blog.iseki.space/2019/11/01/pgpkey/</id>
    <published>2019-11-01T13:00:00.000Z</published>
    <updated>2020-06-25T13:57:09.822Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æˆ‘çš„-PGP-Key-åˆåŒå’å•æ›´æ¢äº†"><a href="#æˆ‘çš„-PGP-Key-åˆåŒå’å•æ›´æ¢äº†" class="headerlink" title="æˆ‘çš„ PGP Key åˆåŒå’å•æ›´æ¢äº†"></a>æˆ‘çš„ PGP Key åˆåŒå’å•æ›´æ¢äº†</h1><p>iseki æ€»æ˜¯ä¸èƒ½å¦¥å–„çš„ä¿ç®¡è‡ªå·±çš„ key å‘¢</p><p>æ–° Key: <a href="https://peegeepee.com/A213EF73"><img src= "/img/loading.gif" data-lazy-src="https://peegeepee.com/badge/orange/A213EF73.svg" alt="PGP 0xA213EF73"></a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">-----BEGIN PGP PUBLIC KEY BLOCK-----</span><br><span class="line">Comment: ç”¨æˆ·ç¼–å·:iseki &lt;admin@iseki.space&gt;</span><br><span class="line">Comment: è¿æ¥æ—¶é—´:2020&#x2F;5&#x2F;12 16:32</span><br><span class="line">Comment: è¿‡æœŸæ—¶é—´:2024&#x2F;5&#x2F;11 16:32</span><br><span class="line">Comment: æ–‡ä»¶ç³»ç»Ÿ:4096 ä½ RSA(ç»å¯†å¯†é’¥å¯ç”¨)</span><br><span class="line">Comment: ç”¨é€”:ç­¾å, ä»…åŠ å¯†, æ­£åœ¨è®¤è¯çš„ç”¨æˆ·ç¼–å·</span><br><span class="line">Comment: æŒ‡çº¹:CE31AA9B872B869FC6C382F81A121A94A213EF73</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mQINBF66XycBEAC4QuiiL2FUqHBLTzstrzOi4hHtV2pCIM8K09vEjZbtt73d4reJ</span><br><span class="line">dH98r&#x2F;HVtgXd2ANfzJkkcnhlJTDLR1iL&#x2F;3Bu3IOujWEYDx5ULQtW&#x2F;aEFZdmY7cvQ</span><br><span class="line">wHUV1sJEEclQ4ymXS0oPfpnMVYIWru+&#x2F;cXkj5jvDuc1pUxwUW0Uwdq8VQ0JWJ8YN</span><br><span class="line">8WB92Kl6Qnxj5gJqLXKT&#x2F;uANru8Wbe&#x2F;0kDQSVy38E6g+7NilDpuMDuIsXBQXrjJR</span><br><span class="line">K9ymM5C6mDrfBIi6jSDrFEPw2nnioUPt5iTP3uvjIn+1tb1ZtX2cI9&#x2F;FMg3dTC0j</span><br><span class="line">FbR0upZz&#x2F;+2UMv9ynw3gXYI&#x2F;6tGvqNw0MLRH&#x2F;gZE80HJPdf60kRNj8cMVo29Yl65</span><br><span class="line">FFq&#x2F;tyepT&#x2F;4mkMPEBaoQVkopsGVju195zZwVu0xYKBEjnR7LSZFRaRxAUMgOf7Tq</span><br><span class="line">6DDHi&#x2F;q9OD2YCWfKdxcmxIvCexGR&#x2F;OeXQitbCxcwyM2&#x2F;jgExr&#x2F;fXAOVBpvAKvMUm</span><br><span class="line">uu0StGSyDCgA1yApIdKMhWVQEuRWpeZtXoEVFraeqIwemPWdGVZSdrh9j4HLhy6Z</span><br><span class="line">dCI7m+frkdXodeAvmYOSwG45RgvT1WxbXvpiMUCBLXflkj+ZhOLMeBZf63mPUGb1</span><br><span class="line">QAJVKY9WA6phq86bWO95B5x9yPwCrDJ&#x2F;WzKvLAEZ+ionDtOdAWGCVrWELwARAQAB</span><br><span class="line">tBlpc2VraSA8YWRtaW5AaXNla2kuc3BhY2U+iQJUBBMBCgA+FiEEzjGqm4crhp&#x2F;G</span><br><span class="line">w4L4GhIalKIT73MFAl66XycCGwMFCQeEzgAFCwkIBwIGFQoJCAsCBBYCAwECHgEC</span><br><span class="line">F4AACgkQGhIalKIT73OLUg&#x2F;+LAIScn&#x2F;PjTm65gPmNMuDQJea9YOjBThBA&#x2F;anJIZr</span><br><span class="line">4sDp7teowEeXMKjpwfiCdUoTligzUTkQ5VaWfmDWs7y8lT0ZkEf5pBEjNXBjKxvL</span><br><span class="line">nJ9hs6B52gRb+z8Cn31nYVDaQNbF7FyDOipNHObadV8y2PZoFUg6I67BufeZ8wyJ</span><br><span class="line">gbkdi7sYrJ&#x2F;G1n9OwvM5cSY329tXEGIsM0fei9te&#x2F;+dS8iemVN3E9jBjcCVfiod0</span><br><span class="line">WR19hqv+Up59OZR5qh7A5uJ&#x2F;qYQJBLZmU2FZ6xT8WtZQr3ehoMOenQ2QoXb9lFXv</span><br><span class="line">bIF&#x2F;9W6PD+YhWLgztBCpg57PGn30P2BTTghlgGTR+8+5CBbSGCrpbpzhH6LPHEiz</span><br><span class="line">LCUMotJYompYXQVZv2H2Zrj4zJLT29RmkZpuYIST5po6b4Jn&#x2F;3Fe+xh7PkHVdT+d</span><br><span class="line">s+NI2gD&#x2F;7Oq5+ldtk5cO8dAhVJinnauPzD7GZJfl8aU&#x2F;WXj4dfefvWGoadOnrmvb</span><br><span class="line">seKAMzYKlDlintELu1XekvVtDW+lX9b+iTrEZPgiXv5yFJ+UpZNEpfTX0PfUoX6F</span><br><span class="line">RjcSeRTpH9gY8fEd4vywcq8fdVOgDmAYR&#x2F;LpDb9UpgeSZMpp2mJPMOzcKMKFdDEM</span><br><span class="line">C0nuUty&#x2F;Us0oBuvhIfmxIHOPkhZ7Ob1&#x2F;95RKpvfOpMIrNPddZlLZiluHgWETRidk</span><br><span class="line">ggC5Ag0EXrpfJwEQAMlMVF2KCmB6+sbaerUVYke0SU&#x2F;woFa6VnAdnGZb8AdGq9AD</span><br><span class="line">KHzcWtYVPWdGPvTUbqbFZK61tTha19B3f&#x2F;lT9UodZJ1s4KIw19E67h3+ln51aj+2</span><br><span class="line">fboF5fElJ0uFvN5HL3nEs3P0y1y0Lma04t1&#x2F;YvnNWcGfwEKuTVWeXx&#x2F;KqOkoDnDU</span><br><span class="line">lPO18M3gsr2xC5wqGv+5UTC03F2Ga9DKQ+leQeliOYUZSetS4EjbqY5ZsrIItfNk</span><br><span class="line">naErLT7HRgqeCrg&#x2F;ZzfaiMbU76+WkvANl9A69AAZiQVjwc9Oo7z7u&#x2F;TLNDK&#x2F;Ufe3</span><br><span class="line">0oK&#x2F;J5h91PfkMkvIR+GW58oig7TTUOyIjJIQr+fZTIum93tvCe7eF+GHwMhd+2QY</span><br><span class="line">aLFAhNb+bbcvN7e33N80gQs7+L8915c5ULEng6ROmkl7DL5dfnCgF8vzNzy2Kxlz</span><br><span class="line">wRgeujRbhuS9sNQre0GGNNRHoLvAyCTMdeOnTvq8prxy9QvCO794vcN2Mklk7eLR</span><br><span class="line">Mev9Hs0p1v4PK7t4ObLoVZyLwhlSJJLyd3+X4GdPHH2Tpq7Kc53Fq5iovZxGb4w5</span><br><span class="line">NOYNUrt7TgRTWuA6vXmuI98GlLZ88VUDigL4yFXxiQlMcp8CDC8fz4tfAH5&#x2F;BlrI</span><br><span class="line">UYfmVVLUDeR7&#x2F;XGi3fE+ubvdg1czfxseOB&#x2F;SX+M9OglOA4Yl+SCeJ&#x2F;L2KvgTABEB</span><br><span class="line">AAGJAjwEGAEKACYWIQTOMaqbhyuGn8bDgvgaEhqUohPvcwUCXrpfJwIbDAUJB4TO</span><br><span class="line">AAAKCRAaEhqUohPvcwahEACOwzinVwP5WcgUtJ9pdnuMjdQZU0h1IWiDd3AAnShm</span><br><span class="line">ndy3Pmy6sa2tVga3Bw4FrVxlTYZ4vQv7efJ39ge5il2cA5S73TltwFdi5PiUzbWX</span><br><span class="line">EvUJcRlRjLbecSQFVB10BHSleVmCAKPsKjRGSww12Qd2WHn5d1pej902NpNQoCIh</span><br><span class="line">7v8hmv0q6RV20nmdllEUtKhVhDvahNOGZEYggTRSsV3pkmQ&#x2F;d75Aukdr+Uar0ahM</span><br><span class="line">Yn8XIt0pqkQgsZikEJDFqoS+O&#x2F;p3FDvvtUJEMFZc9UyBhZmWEuHQgKQ2Ndt4Nz&#x2F;9</span><br><span class="line">kaDZRJIXeoxkIkk447apiXukcp+DgKM6thG2rwQrL3dhC7w3q4nM32U&#x2F;2M54XFVP</span><br><span class="line">EzGj+Rbf14vLN2vadLYMTCvfbvdnA2cOnfN8Kts6G+UpFP1bEBW3CjORHidDL3Ks</span><br><span class="line">vY+3BQJFmQRyKNrbEZU3iWN9oEWjEUvinwNBJpasPEHz2ukadOo0ZTwmkSOv7wsP</span><br><span class="line">2L+kv7+XlgHMiEMl5Ll43K7NughYsrsy2bYJJQTV+8pFVbwovsm9ar0cbnzVuqpq</span><br><span class="line">GS8EfXaDVnBDmzL7qdSE0KUdhZT9QwQ+J&#x2F;YrjVpmswY3A+UXLsd4w0E8&#x2F;sxJtOWB</span><br><span class="line">3yIVxaB6ZXXnNI4ODr&#x2F;dl42WgstE2sMIqZQVK2OOltbLoOnLrrhqa9X9oHSzR211</span><br><span class="line">KQ&#x3D;&#x3D;</span><br><span class="line">&#x3D;oWua</span><br><span class="line">-----END PGP PUBLIC KEY BLOCK-----</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;æˆ‘çš„-PGP-Key-åˆåŒå’å•æ›´æ¢äº†&quot;&gt;&lt;a href=&quot;#æˆ‘çš„-PGP-Key-åˆåŒå’å•æ›´æ¢äº†&quot; class=&quot;headerlink&quot; title=&quot;æˆ‘çš„ PGP Key åˆåŒå’å•æ›´æ¢äº†&quot;&gt;&lt;/a&gt;æˆ‘çš„ PGP Key åˆåŒå’å•æ›´æ¢äº†&lt;/h1&gt;&lt;p&gt;iseki </summary>
      
    
    
    
    
    <category term="pgp" scheme="https://blog.iseki.space/tags/pgp/"/>
    
    <category term="openpgp" scheme="https://blog.iseki.space/tags/openpgp/"/>
    
    <category term="gpg" scheme="https://blog.iseki.space/tags/gpg/"/>
    
  </entry>
  
  <entry>
    <title>è¯è¯´æˆ‘å¤§Kotlinæ€ä¹ˆè¿ä¸ªthrottleéƒ½æ²¡æœ‰å‘¢</title>
    <link href="https://blog.iseki.space/2019/10/23/kotlin-throttle/"/>
    <id>https://blog.iseki.space/2019/10/23/kotlin-throttle/</id>
    <published>2019-10-23T07:54:00.000Z</published>
    <updated>2020-06-25T13:57:09.822Z</updated>
    
    <content type="html"><![CDATA[<h1 id="throttle"><a href="#throttle" class="headerlink" title="throttle"></a>throttle</h1><p>æ—¢ç„¶æ²¡æœ‰ï¼Œå°±è‡ªå·±å†™ä¸€ä¸ªç³Šä¸Šå»å§ã€‚<br>æ€»ä¹‹ï¼Œè¿™ä¸œè¥¿çš„åŠŸèƒ½å°±æ˜¯ç»™å‡½æ•°è°ƒç”¨åŠ ä¸€ä¸ªå†·å´æ—¶é—´ã€‚</p><p>æˆ‘è¿™é‡Œçš„åœºæ™¯æ˜¯ï¼Œbotè¦æ ¹æ®æ¥æ”¶åˆ°çš„æ¶ˆæ¯æ¥æºåˆ¤æ–­è‡ªå·±æ˜¯å¦è¢«åŠ å…¥äº†æœªç»æˆæƒçš„ç¾¤ç»„ï¼Œå¦‚æœå‡ºç°äº†è¿™ç§ç¾¤ç»„ï¼Œå°±å‘å‡ºè¯·æ±‚é€€ç¾¤ã€‚<br>é‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œåœ¨å‘å‡ºçš„è¯·æ±‚å®Œæˆå‰botå¯èƒ½æ¥æ”¶åˆ°å¤§é‡æ¥è‡ªåŒä¸€ä¸ªç¾¤ç»„çš„æ¶ˆæ¯ï¼Œä¸ºäº†é¿å…å‘å‡ºä¸€å †æ²¡ç”¨çš„è¯·æ±‚ï¼Œæœ€ç®€å•çš„åŠæ³•å°±æ˜¯åŠ ä¸€ä¸ªå†·å´æ—¶é—´ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">throttle</span><span class="params">(threshhold: <span class="type">Long</span>, lambda: () -&gt; <span class="type">Unit</span>)</span></span> = run &#123;</span><br><span class="line">    <span class="keyword">var</span> last = <span class="number">0L</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">val</span> t = System.currentTimeMillis()</span><br><span class="line">        <span class="keyword">if</span> (t - last &gt; threshhold) &#123;</span><br><span class="line">            lambda.invoke()</span><br><span class="line">            last = t</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Unit-test"><a href="#Unit-test" class="headerlink" title="Unit test"></a>Unit test</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UtilKtTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">throttle</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">val</span> t = bot.throttle(<span class="number">200</span>) &#123;</span><br><span class="line">            count++</span><br><span class="line">        &#125;</span><br><span class="line">        repeat(<span class="number">8</span>) &#123; t.invoke() &#125;</span><br><span class="line">        assertEquals(count, <span class="number">1</span>)</span><br><span class="line">        Thread.sleep(<span class="number">500</span>)</span><br><span class="line">        repeat(<span class="number">4</span>) &#123; t.invoke() &#125;</span><br><span class="line">        assertEquals(count, <span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> fn = throttle(<span class="number">200</span>) &#123;</span><br><span class="line">    doSomething()</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">fn.todo() <span class="comment">//æ¯æ¬¡éœ€è¦çš„æ—¶å€™è°ƒç”¨ä¸‹ï¼Œå¦‚æœè·ä¸Šæ¬¡è°ƒç”¨å°äº200msï¼Œå°±ä»€ä¹ˆä¹Ÿä¸ä¼šå‘ç”Ÿ</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;throttle&quot;&gt;&lt;a href=&quot;#throttle&quot; class=&quot;headerlink&quot; title=&quot;throttle&quot;&gt;&lt;/a&gt;throttle&lt;/h1&gt;&lt;p&gt;æ—¢ç„¶æ²¡æœ‰ï¼Œå°±è‡ªå·±å†™ä¸€ä¸ªç³Šä¸Šå»å§ã€‚&lt;br&gt;æ€»ä¹‹ï¼Œè¿™ä¸œè¥¿çš„åŠŸèƒ½å°±æ˜¯ç»™å‡½æ•°è°ƒç”¨åŠ ä¸€ä¸ªå†·å´æ—¶é—´ã€‚&lt;/</summary>
      
    
    
    
    
    <category term="kotlin" scheme="https://blog.iseki.space/tags/kotlin/"/>
    
  </entry>
  
  <entry>
    <title>å¤§ä½¬ä»¬å®åœ¨æ˜¯å¤ªèšèšäº†ï¼ŒèŒæ–°å’‹æ´»å•ŠğŸ˜</title>
    <link href="https://blog.iseki.space/2019/10/18/dalao/"/>
    <id>https://blog.iseki.space/2019/10/18/dalao/</id>
    <published>2019-10-18T01:54:00.000Z</published>
    <updated>2020-06-25T13:57:09.820Z</updated>
    
    <content type="html"><![CDATA[<p>æ„Ÿè§‰è‡ªå·±å®Œäº†å‘¢â€¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ„Ÿè§‰è‡ªå·±å®Œäº†å‘¢â€¦&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="dalao" scheme="https://blog.iseki.space/tags/dalao/"/>
    
  </entry>
  
  <entry>
    <title>è¿™é‡Œæ˜¯isekiçš„ç¬”è®°æœ¬å‘¢</title>
    <link href="https://blog.iseki.space/2019/10/17/hello/"/>
    <id>https://blog.iseki.space/2019/10/17/hello/</id>
    <published>2019-10-17T15:30:00.000Z</published>
    <updated>2020-06-25T13:57:09.821Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä¹Ÿä¸ä¼šå†™ä»€ä¹ˆblogï¼Œé‚£ä¹ˆï¼Œè¿™é‡Œå°±å½“ä½œä¸€ä¸ªç¬”è®°æœ¬ç”¨å§ï¼Œæ¯•ç«Ÿæœ‰äº›ä¸œè¥¿ï¼Œå¥½ä¸å®¹æ˜“ææ˜ç™½ï¼Œå¿˜è®°äº†è¿˜æ˜¯å¾ˆéº»çƒ¦çš„å‘¢ã€‚<br>è¦æ˜¯èƒ½å€Ÿæœºä¼šå¸®åˆ°å…¶ä»–äººï¼Œæˆ‘ä¹Ÿæ˜¯å¾ˆé«˜å…´çš„å‘¢ã€‚</p><p>è¿™é‡Œç”¨Hexoé©±åŠ¨ï¼ŒGithub æ‰˜ç®¡ + Cloudflare CDN å¤–åŠ ä¸€ä»½å¼€æºçš„ä¸»é¢˜ï¼Œè‡ªå·±å‡‘å‡‘åˆåˆå†™ä¸ªGithub Action workflowï¼ˆå…¶å®æ²¡æœ‰ä¹Ÿæ— æ‰€è°“å•Šï¼‰ï¼Œå°±ç®—å·®ä¸å¤šèƒ½ç”¨äº†ã€‚<br>é¦–é¡µçš„é“¾æ¥å˜›ï¼ŒåŸºæœ¬éƒ½ç‚¹ä¸å¼€ï¼ˆx</p><p>é‚£ä¹ˆï¼Œå°±å…ˆè¿™æ ·äº†ï¼Œæœ€åï¼Œå¿˜äº†è¯´ä¸€å¥ï¼Œæ—¢ç„¶ä½ æ¥äº†ï¼Œé‚£è¯´æ˜å’±ä¿©æœ‰ç¼˜å•Šï¼ˆx</p><p>æ€»ä¹‹ï¼Œæ¬¢è¿å…‰ä¸´äº†ï¼‰x</p><p>æ»¡å£èƒ¡è¯çš„iseki</p><p>2019.10.17</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æˆ‘ä¹Ÿä¸ä¼šå†™ä»€ä¹ˆblogï¼Œé‚£ä¹ˆï¼Œè¿™é‡Œå°±å½“ä½œä¸€ä¸ªç¬”è®°æœ¬ç”¨å§ï¼Œæ¯•ç«Ÿæœ‰äº›ä¸œè¥¿ï¼Œå¥½ä¸å®¹æ˜“ææ˜ç™½ï¼Œå¿˜è®°äº†è¿˜æ˜¯å¾ˆéº»çƒ¦çš„å‘¢ã€‚&lt;br&gt;è¦æ˜¯èƒ½å€Ÿæœºä¼šå¸®åˆ°å…¶ä»–äººï¼Œæˆ‘ä¹Ÿæ˜¯å¾ˆé«˜å…´çš„å‘¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œç”¨Hexoé©±åŠ¨ï¼ŒGithub æ‰˜ç®¡ + Cloudflare CDN å¤–åŠ ä¸€ä»½å¼€æºçš„ä¸»é¢˜ï¼Œè‡ªå·±å‡‘</summary>
      
    
    
    
    
    <category term="pin" scheme="https://blog.iseki.space/tags/pin/"/>
    
    <category term="text" scheme="https://blog.iseki.space/tags/text/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨GitHub Actioné‡Œè®¾ç½® Hexo gen çš„æŠ˜è…¾ç¬”è®°</title>
    <link href="https://blog.iseki.space/2019/10/17/github-action-hexo-gen/"/>
    <id>https://blog.iseki.space/2019/10/17/github-action-hexo-gen/</id>
    <published>2019-10-17T14:44:00.000Z</published>
    <updated>2020-06-25T13:57:09.821Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸æƒ³é˜…è¯»Github Actionåšé‡çš„æ–‡æ¡£ï¼Œç”¨é¢„é…ç½®å¥½çš„NPM ActionæŠ˜è…¾äº†åŠå¤©ï¼Œç»ˆä»¥å¤±è´¥å‘Šç»ˆã€‚ç”±äºä¸ç†Ÿæ‚‰NPMå’ŒNode.jsï¼Œæœ€åçˆ†å‡ºçš„é”™è¯¯æ‘¸ä¸åˆ°å¤´è„‘ï¼Œå°±æ­¤ä½œç½¢ã€‚</p><p>å¯»æ‰¾å¦ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ <code>https://github.com/user/repo/actions/new</code> ä¸­é€‰æ‹©äº†è·³è¿‡ï¼Œè‡ªå·±è®¾ç½®ä¸€ä¸ªç©ºç™½çš„Workflowã€‚</p><ol><li><p>ä¸ºäº†é¿å…Actioné‡æ–°æ¨é€ä»“åº“åå¾ªç¯è§¦å‘Actionï¼ˆä¸çŸ¥Githubæœ‰æ²¡æœ‰å¯¹è¿™ç§æƒ…å†µè¿›è¡Œç‰¹æ®Šå¤„ç†ï¼‰æ·»åŠ è·¯å¾„è¿‡æ»¤å™¨ï¼Œä»…å½“ <code>/source</code> ç›®å½•å­˜åœ¨æ›´æ–°æ—¶æ‰è§¦å‘ Workflow</p></li><li><p>åœ¨ä»“åº“çš„ <code>Settings-&gt;Deploy keys</code> é‡Œè®¾ç½®Github Action pushæ—¶ä½¿ç”¨çš„SSHå…¬é’¥ï¼Œå¹¶èµ‹äºˆå†™æƒé™ï¼Œ<code>Settings-&gt;Secrets</code> é‡Œè®¾ç½®ç§é’¥çš„ Base64 ç¼–ç ã€‚<br>ç§é’¥ä¼šé€šè¿‡ç¯å¢ƒå˜é‡ä¼ å…¥Actionçš„shellï¼Œ<code>base64 -d</code> å³å¯è§£ç ï¼Œbase64ç¼–ç æ˜¯ä¸ºäº†é¿å…æ½œåœ¨çš„å›è½¦æ¢è¡Œç¬¦é—®é¢˜ï¼ˆç¯å¢ƒå˜é‡é‡Œå‡ºç°çš„æ¢è¡Œç¬¦ä¼¼ä¹ä¸èƒ½æ­£ç¡®åœ°å†™å…¥æ–‡ä»¶ï¼‰</p></li><li><p>ã€æœªè§£å†³çš„ç–‘é—®ã€‘ å…‹éš†gitä»“åº“åçš„æ‰€æœ‰æ“ä½œæœ€å¥½å†™åœ¨ä¸€ä¸ªstepé‡Œï¼Œå¦åˆ™Gitçš„å·¥ä½œç›®å½•å¯èƒ½è«åå…¶å¦™çš„å˜ç©ºï¼ŒçŒœæµ‹æœ‰å¯èƒ½æ˜¯å› ä¸ºStepå¹¶ä¸æ˜¯ä¸¥æ ¼çš„æŒ‰é¡ºåºæ‰§è¡Œçš„ï¼Ÿï¼ˆè¿™ç‚¹æ²¡æœ‰ä»”ç»†çœ‹æ–‡æ¡£æ‰€ä»¥ä¸çŸ¥é“ï¼‰æ€»ä¹‹å†™åœ¨ä¸€ä¸ªStepé‡Œè‚¯å®šå°±æ²¡é—®é¢˜äº†ã€‚</p></li><li><p><code>~/.ssh/id_rsa</code> æ–‡ä»¶æ³¨æ„è®¾å®šæƒé™ <code>0600</code> é»˜è®¤çš„æƒé™è¿‡äºå®½æ¾ï¼ŒSSHä¼šä¸è¯»å–ã€‚</p></li><li><p><code>~/.ssh/config</code> é‡Œéœ€å†™å…¥ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Host *</span><br><span class="line">    StrictHostKeyChecking no</span><br></pre></td></tr></table></figure><p>å¦åˆ™å¯èƒ½ä¼šå¼¹å‡ºè¦æ±‚ç¡®è®¤SSH fingerprintçš„äº¤äº’æ¶ˆæ¯ã€‚</p></li><li><p>è®°å¾—è®¾å®š <code>git config --global user.name/email</code> å¦åˆ™æ— æ³•æäº¤</p></li><li><p>å¦‚æœä½¿ç”¨äº†è‡ªå®šä¹‰çš„åŸŸåï¼Œæ³¨æ„ <code>CNAME</code> æ–‡ä»¶æ˜¯å¦åœ¨ <code>hexo clean</code> åè¢«åˆ é™¤ï¼Œå¯èƒ½éœ€è¦è‡ªå·±å†™å›å»ã€‚</p></li><li><p>æ³¨æ„éƒ¨åˆ†Hexoä¸»é¢˜å¯èƒ½ä»¥ git submodule æ–¹å¼å¼•å…¥ï¼Œ Github Action å…‹éš†ä»“åº“æ—¶ä¸ä¼šè‡ªåŠ¨å…‹éš†å­æ¨¡å—ï¼Œå¯¼è‡´ç”Ÿæˆçš„æ‰€æœ‰é¡µé¢ç©ºç™½ï¼ŒHexoåªä¼šç»™å‡ºè­¦å‘Šè€Œä¸æ˜¯é”™è¯¯ã€‚</p></li></ol><h3 id="é™„ä¸Šè‡ªå·±å†™çš„workflowï¼ˆç³Šæˆä¸€å¨ï¼Œå‡‘åˆèƒ½ç”¨ï¼‰"><a href="#é™„ä¸Šè‡ªå·±å†™çš„workflowï¼ˆç³Šæˆä¸€å¨ï¼Œå‡‘åˆèƒ½ç”¨ï¼‰" class="headerlink" title="é™„ä¸Šè‡ªå·±å†™çš„workflowï¼ˆç³Šæˆä¸€å¨ï¼Œå‡‘åˆèƒ½ç”¨ï¼‰"></a>é™„ä¸Šè‡ªå·±å†™çš„workflowï¼ˆç³Šæˆä¸€å¨ï¼Œå‡‘åˆèƒ½ç”¨ï¼‰</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Generate</span> <span class="string">Hexo</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span> </span><br><span class="line">    <span class="attr">paths:</span> </span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;source/**&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span> </span><br><span class="line">  <span class="attr">build:</span> </span><br><span class="line">    <span class="attr">name:</span> <span class="string">Refresh</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Node.js</span> <span class="string">and</span> <span class="string">NPM</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">sudo</span> <span class="string">apt-get</span> <span class="string">install</span> <span class="string">curl</span> <span class="string">-y</span></span><br><span class="line">          <span class="string">curl</span> <span class="string">-sL</span> <span class="string">https://deb.nodesource.com/setup_12.x</span> <span class="string">|</span> <span class="string">sudo</span> <span class="string">-E</span> <span class="string">bash</span> <span class="bullet">-</span></span><br><span class="line">          <span class="string">sudo</span> <span class="string">apt-get</span> <span class="string">install</span> <span class="string">nodejs</span> <span class="string">-y</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&#x27;=====Show NPM version=====&#x27;</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">-v</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&#x27;=====Show Node.js version=====&#x27;</span></span><br><span class="line">          <span class="string">node</span> <span class="string">-v</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">sudo</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">-g</span> <span class="string">hexo-cli</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&#x27;=====Show HEXO version=====&#x27;</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">-v</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Prepare</span> <span class="string">Key</span> <span class="string">and</span> <span class="string">SSH</span> <span class="string">config</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">mkdir</span> <span class="string">~/.ssh</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">$DEPLOY_PRIVKEY</span> <span class="string">|</span> <span class="string">base64</span> <span class="string">-d</span> <span class="string">&gt;</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">          <span class="string">chmod</span> <span class="number">0600</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&#x27;Host *&#x27;</span> <span class="string">&gt;&gt;</span> <span class="string">~/.ssh/config</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&#x27;    StrictHostKeyChecking no&#x27;</span> <span class="string">&gt;&gt;</span> <span class="string">~/.ssh/config</span></span><br><span class="line">          <span class="string">chmod</span> <span class="number">0600</span> <span class="string">~/.ssh/config</span></span><br><span class="line">        <span class="attr">env:</span> </span><br><span class="line">          <span class="attr">DEPLOY_PRIVKEY:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DEPLOY_PRIVKEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Clone</span> <span class="string">git</span> <span class="string">repo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">          <span class="string">cd</span> <span class="string">~</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&#x27;=====Show work path=====&#x27;</span></span><br><span class="line">          <span class="string">pwd</span></span><br><span class="line">          <span class="string">git</span> <span class="string">clone</span> <span class="string">git@github.com:cpdyj/blog.git</span></span><br><span class="line">          <span class="string">cd</span> <span class="string">blog</span></span><br><span class="line">          <span class="string">ls</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&#x27;=====Show work path=====&#x27;</span></span><br><span class="line">          <span class="string">pwd</span></span><br><span class="line">          <span class="string">cat</span> <span class="string">./package.json</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">install</span></span><br><span class="line">          <span class="string">npm</span> <span class="string">audit</span> <span class="string">fix</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line">          <span class="string">hexo</span> <span class="string">g</span></span><br><span class="line">          <span class="string">echo</span> <span class="string">&quot;blog.iseki.space&quot;</span> <span class="string">&gt;</span> <span class="string">./docs/CNAME</span></span><br><span class="line">          <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">&quot;User name&quot;</span></span><br><span class="line">          <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">&quot;Email@example.com&quot;</span></span><br><span class="line">          <span class="string">git</span> <span class="string">add</span> <span class="string">docs</span></span><br><span class="line">          <span class="string">git</span> <span class="string">commit</span> <span class="string">-am</span> <span class="string">&quot;Auto generate on Github Action at `date`&quot;</span></span><br><span class="line">          <span class="string">git</span> <span class="string">push</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä¸æƒ³é˜…è¯»Github Actionåšé‡çš„æ–‡æ¡£ï¼Œç”¨é¢„é…ç½®å¥½çš„NPM ActionæŠ˜è…¾äº†åŠå¤©ï¼Œç»ˆä»¥å¤±è´¥å‘Šç»ˆã€‚ç”±äºä¸ç†Ÿæ‚‰NPMå’ŒNode.jsï¼Œæœ€åçˆ†å‡ºçš„é”™è¯¯æ‘¸ä¸åˆ°å¤´è„‘ï¼Œå°±æ­¤ä½œç½¢ã€‚&lt;/p&gt;
&lt;p&gt;å¯»æ‰¾å¦ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ &lt;code&gt;https://github.com/user/re</summary>
      
    
    
    
    
    <category term="github" scheme="https://blog.iseki.space/tags/github/"/>
    
    <category term="action" scheme="https://blog.iseki.space/tags/action/"/>
    
    <category term="nodejs" scheme="https://blog.iseki.space/tags/nodejs/"/>
    
    <category term="npm" scheme="https://blog.iseki.space/tags/npm/"/>
    
    <category term="hexo" scheme="https://blog.iseki.space/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºKotlinæ³¨è§£å¤„ç†å™¨çš„ä¸€äº›å‘</title>
    <link href="https://blog.iseki.space/2019/10/14/kotlin-kapt-note/"/>
    <id>https://blog.iseki.space/2019/10/14/kotlin-kapt-note/</id>
    <published>2019-10-13T16:34:14.000Z</published>
    <updated>2020-06-25T13:57:09.821Z</updated>
    
    <content type="html"><![CDATA[<ol><li>kapt 1.3.5 å­˜åœ¨bugï¼Œä¸èƒ½ç”¨ï¼Œè¿åŒ kotlin-gradle-plugin ä¸€åŒé™çº§åˆ° 1.3.41</li><li><code>build.gradle.kts</code> ä¸­ <code>dependencies</code> éœ€è¦åŒæ—¶ä½¿ç”¨ <code>implementation</code> å’Œ <code>kapt</code> å¼•ç”¨ <code>com.google.auto.service:auto-service</code> ï¼Œå¦åˆ™æ— æ³•è¯†åˆ«ä½¿ç”¨Kotlinç¼–å†™çš„æ³¨è§£å¤„ç†å™¨<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dependencies&#123;</span><br><span class="line">    implementation(<span class="string">&quot;com.google.auto.service:auto-service:<span class="variable">$googleAutoServiceVersion</span>&quot;</span>)</span><br><span class="line">    kapt(<span class="string">&quot;com.google.auto.service:auto-service:<span class="variable">$googleAutoServiceVersion</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>å¦‚æœä½¿ç”¨æ³¨è§£çš„ç±»ã€å‡½æ•°ç­¾åã€æ³¨è§£å‚æ•°ç­‰åŒ…å«é¡¶çº§åŒ…å£°æ˜çš„å†…å®¹ï¼Œjavacå¯èƒ½å‡ºç°æ‰¾ä¸åˆ°ç¬¦å·å¼‚å¸¸ã€‚ä¸ç¡®å®šæ˜¯ä¸æ˜¯bugã€‚ç”±äºWindowsä¸‹jdkå¯èƒ½ä½¿ç”¨ä¸­æ–‡localeï¼Œideaä¸­Buildä¸­æ–‡æŠ¥é”™å¯èƒ½æ˜¾ç¤ºæˆä¹±ç ï¼Œå¯ä»¥åœ¨Terminalä¸­è¿è¡Œ <code>gradlew build</code> æŸ¥çœ‹é”™è¯¯åŸå› ï¼ˆTerminalçš„æ–‡å­—ç¼–ç æ˜¯æ­£ç¡®çš„ï¼‰ã€‚</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;kapt 1.3.5 å­˜åœ¨bugï¼Œä¸èƒ½ç”¨ï¼Œè¿åŒ kotlin-gradle-plugin ä¸€åŒé™çº§åˆ° 1.3.41&lt;/li&gt;
&lt;li&gt;&lt;code&gt;build.gradle.kts&lt;/code&gt; ä¸­ &lt;code&gt;dependencies&lt;/code&gt; éœ€è¦åŒæ—¶ä½¿ç”¨</summary>
      
    
    
    
    
    <category term="java" scheme="https://blog.iseki.space/tags/java/"/>
    
    <category term="kotlin" scheme="https://blog.iseki.space/tags/kotlin/"/>
    
    <category term="gradle" scheme="https://blog.iseki.space/tags/gradle/"/>
    
    <category term="kapt" scheme="https://blog.iseki.space/tags/kapt/"/>
    
    <category term="idea" scheme="https://blog.iseki.space/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€æ¬¡ç”¨ANTLRå‘¢</title>
    <link href="https://blog.iseki.space/2018/09/07/antlr-first/"/>
    <id>https://blog.iseki.space/2018/09/07/antlr-first/</id>
    <published>2018-09-07T14:29:00.000Z</published>
    <updated>2020-06-25T13:57:09.819Z</updated>
    
    <content type="html"><![CDATA[<p>è§‰å¾—æ—¢ç„¶æ˜¯ç¬¬ä¸€æ¬¡å°è¯•ANTLRå˜›ï¼Œé‚£å°±æ¥ä¸ªç®€å•ç‚¹çš„ï¼Œparse Windows çš„ hosts æ–‡ä»¶å§ï¼Œç»“æœâ€¦â€¦</p><p>å…ˆä¸Šä¸€æ®µ grammar:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">grammar hosts;</span><br><span class="line"></span><br><span class="line">hostfile: line* EOF;</span><br><span class="line">line : item</span><br><span class="line">     | comment</span><br><span class="line">     ;</span><br><span class="line">item: IPADDRESS HOSTNAME ;</span><br><span class="line">comment: COMMENT;</span><br><span class="line">HOSTNAME: [A-z0-9.]+;</span><br><span class="line">IPADDRESS: NUM &#39;.&#39; NUM &#39;.&#39; NUM &#39;.&#39; NUM;</span><br><span class="line">NUM: [0-9] +;</span><br><span class="line">COMMENT: &#39;#&#39; .*? &#39;\r&#39;? &#39;\n&#39;;</span><br><span class="line">NL: (&#39;\r\n&#39;|&#39;\n\r&#39;|&#39;\r&#39;|&#39;\n&#39;) -&gt;skip;</span><br><span class="line">BLANK: (&#39; &#39;|&#39;\t&#39;) -&gt;skip;</span><br></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹å¥½åƒæ²¡ä»€ä¹ˆé—®é¢˜ï¼ŒæŒºå¥½çš„ï¼Œç„¶è€Œ<code>item</code>é‚£æ¡æ–‡æ³•è§„åˆ™å°±æ˜¯ä¸èµ·ä½œç”¨ï¼Œå‰é¢æ³¨é‡Šéƒ½æ­£å¸¸å¤„ç†äº†ï¼Œç»“æœipåœ°å€å‡ºä¸æ¥ã€‚<br>ç½‘ä¸Šæœäº†åŠå¤©ä¹Ÿæœä¸åˆ°ï¼Œäºæ˜¯å»StackOverflowä¸Šæ‰¾äº†æ‰¾ï¼Œæœ‰ä¸ªç°æˆçš„ã€‚<br><a href="https://stackoverflow.com/questions/29777778/antlr-4-5-mismatched-input-x-expecting-x">StackOverflow: antlr-4-5-mismatched-input-x-expecting-x</a><br>è§£å†³åŠæ³•å°±æ˜¯æŠŠ<code>IPADDRESS</code>æŒªåˆ°<code>HOSTNAME</code>ä¸Šé¢å°±è¡Œäº†ï¼ŒåŸå› æ˜¯ANTLRç”Ÿæˆçš„ parser å’Œ lexer å‡ ä¹æ˜¯ç‹¬ç«‹å·¥ä½œçš„ï¼Œåœ¨ä¸è€ƒè™‘å†…åµŒåŠ¨ä½œçš„æƒ…å†µä¸‹parserä¸èƒ½å½±å“lexerï¼›lexerä¼šç®€å•çš„æŒ‰ç…§æœ€é•¿åŒ¹é…çš„åŸåˆ™ï¼Œä¸€æ ·é•¿çš„å°±çœ‹grammarä¸­å‡ºç°çš„é¡ºåºã€‚ã€‚ã€‚</p><p>æ‰€ä»¥ä¹‹å‰é‚£ä¸ªæ–‡æ³•æŠŠIPåœ°å€éƒ½åŒ¹é…æˆäº†<code>HOSTNAME</code>â€¦</p><p>é—®é¢˜è§£å†³ï¼Œè¿˜æ˜¯æ²¡å¥½å¥½çœ‹ä¹¦ï¼Œä¹¦ä¸Šåº”è¯¥éƒ½å†™äº†çš„â€¦</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è§‰å¾—æ—¢ç„¶æ˜¯ç¬¬ä¸€æ¬¡å°è¯•ANTLRå˜›ï¼Œé‚£å°±æ¥ä¸ªç®€å•ç‚¹çš„ï¼Œparse Windows çš„ hosts æ–‡ä»¶å§ï¼Œç»“æœâ€¦â€¦&lt;/p&gt;
&lt;p&gt;å…ˆä¸Šä¸€æ®µ grammar:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;g</summary>
      
    
    
    
    
    <category term="antlr" scheme="https://blog.iseki.space/tags/antlr/"/>
    
    <category term="java" scheme="https://blog.iseki.space/tags/java/"/>
    
  </entry>
  
</feed>
